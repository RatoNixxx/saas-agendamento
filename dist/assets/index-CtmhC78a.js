var Xm=Object.defineProperty;var Zm=(e,t,r)=>t in e?Xm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var D=(e,t,r)=>Zm(e,typeof t!="symbol"?t+"":t,r);function eg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function tg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ah={exports:{}},Ua={},Ih={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=Symbol.for("react.element"),rg=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),og=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),cg=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),kc=Symbol.iterator;function hg(e){return e===null||typeof e!="object"?null:(e=kc&&e[kc]||e["@@iterator"],typeof e=="function"?e:null)}var Dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lh=Object.assign,$h={};function Xn(e,t,r){this.props=e,this.context=t,this.refs=$h,this.updater=r||Dh}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uh(){}Uh.prototype=Xn.prototype;function au(e,t,r){this.props=e,this.context=t,this.refs=$h,this.updater=r||Dh}var ou=au.prototype=new Uh;ou.constructor=au;Lh(ou,Xn.prototype);ou.isPureReactComponent=!0;var Sc=Array.isArray,Mh=Object.prototype.hasOwnProperty,lu={current:null},Fh={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Mh.call(t,n)&&!Fh.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:di,type:e,key:i,ref:a,props:s,_owner:lu.current}}function fg(e,t){return{$$typeof:di,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===di}function pg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ec=/\/+/g;function po(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pg(""+e.key):t.toString(36)}function qi(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case di:case rg:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+po(a,0):n,Sc(s)?(r="",e!=null&&(r=e.replace(Ec,"$&/")+"/"),qi(s,t,r,"",function(u){return u})):s!=null&&(uu(s)&&(s=fg(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ec,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Sc(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+po(i,o);a+=qi(i,t,r,l,s)}else if(l=hg(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+po(i,o++),a+=qi(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function vi(e,t,r){if(e==null)return e;var n=[],s=0;return qi(e,n,"","",function(i){return t.call(r,i,s++)}),n}function mg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},Hi={transition:null},gg={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Hi,ReactCurrentOwner:lu};function zh(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:vi,forEach:function(e,t,r){vi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vi(e,function(){t++}),t},toArray:function(e){return vi(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Xn;K.Fragment=ng;K.Profiler=ig;K.PureComponent=au;K.StrictMode=sg;K.Suspense=ug;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gg;K.act=zh;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Lh({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=lu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Mh.call(t,l)&&!Fh.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:di,type:e.type,key:s,ref:i,props:n,_owner:a}};K.createContext=function(e){return e={$$typeof:og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ag,_context:e},e.Consumer=e};K.createElement=Bh;K.createFactory=function(e){var t=Bh.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:lg,render:e}};K.isValidElement=uu;K.lazy=function(e){return{$$typeof:dg,_payload:{_status:-1,_result:e},_init:mg}};K.memo=function(e,t){return{$$typeof:cg,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Hi.transition;Hi.transition={};try{e()}finally{Hi.transition=t}};K.unstable_act=zh;K.useCallback=function(e,t){return Ze.current.useCallback(e,t)};K.useContext=function(e){return Ze.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ze.current.useEffect(e,t)};K.useId=function(){return Ze.current.useId()};K.useImperativeHandle=function(e,t,r){return Ze.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ze.current.useMemo(e,t)};K.useReducer=function(e,t,r){return Ze.current.useReducer(e,t,r)};K.useRef=function(e){return Ze.current.useRef(e)};K.useState=function(e){return Ze.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return Ze.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return Ze.current.useTransition()};K.version="18.3.1";Ih.exports=K;var S=Ih.exports;const Fe=tg(S),yg=eg({__proto__:null,default:Fe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=S,wg=Symbol.for("react.element"),_g=Symbol.for("react.fragment"),bg=Object.prototype.hasOwnProperty,xg=vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kg={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)bg.call(t,n)&&!kg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:wg,type:e,key:i,ref:a,props:s,_owner:xg.current}}Ua.Fragment=_g;Ua.jsx=Wh;Ua.jsxs=Wh;Ah.exports=Ua;var y=Ah.exports,Qo={},Vh={exports:{}},pt={},qh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,W){var V=A.length;A.push(W);e:for(;0<V;){var ae=V-1>>>1,we=A[ae];if(0<s(we,W))A[ae]=W,A[V]=we,V=ae;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var W=A[0],V=A.pop();if(V!==W){A[0]=V;e:for(var ae=0,we=A.length,ln=we>>>1;ae<ln;){var It=2*(ae+1)-1,os=A[It],Dt=It+1,un=A[Dt];if(0>s(os,V))Dt<we&&0>s(un,os)?(A[ae]=un,A[Dt]=V,ae=Dt):(A[ae]=os,A[It]=V,ae=It);else if(Dt<we&&0>s(un,V))A[ae]=un,A[Dt]=V,ae=Dt;else break e}}return W}function s(A,W){var V=A.sortIndex-W.sortIndex;return V!==0?V:A.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=A)n(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(u)}}function b(A){if(_=!1,p(A),!v)if(r(l)!==null)v=!0,Ye(T);else{var W=r(u);W!==null&&Le(b,W.startTime-A)}}function T(A,W){v=!1,_&&(_=!1,g(j),j=-1),m=!0;var V=f;try{for(p(W),d=r(l);d!==null&&(!(d.expirationTime>W)||A&&!We());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var we=ae(d.expirationTime<=W);W=e.unstable_now(),typeof we=="function"?d.callback=we:d===r(l)&&n(l),p(W)}else n(l);d=r(l)}if(d!==null)var ln=!0;else{var It=r(u);It!==null&&Le(b,It.startTime-W),ln=!1}return ln}finally{d=null,f=V,m=!1}}var P=!1,O=null,j=-1,H=5,z=-1;function We(){return!(e.unstable_now()-z<H)}function q(){if(O!==null){var A=e.unstable_now();z=A;var W=!0;try{W=O(!0,A)}finally{W?Y():(P=!1,O=null)}}else P=!1}var Y;if(typeof h=="function")Y=function(){h(q)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ae=pe.port2;pe.port1.onmessage=q,Y=function(){Ae.postMessage(null)}}else Y=function(){x(q,0)};function Ye(A){O=A,P||(P=!0,Y())}function Le(A,W){j=x(function(){A(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,Ye(T))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var V=f;f=W;try{return A()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,W){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=f;f=A;try{return W()}finally{f=V}},e.unstable_scheduleCallback=function(A,W,V){var ae=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ae+V:ae):V=ae,A){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=V+we,A={id:c++,callback:W,priorityLevel:A,startTime:V,expirationTime:we,sortIndex:-1},V>ae?(A.sortIndex=V,t(u,A),r(l)===null&&A===r(u)&&(_?(g(j),j=-1):_=!0,Le(b,V-ae))):(A.sortIndex=we,t(l,A),v||m||(v=!0,Ye(T))),A},e.unstable_shouldYield=We,e.unstable_wrapCallback=function(A){var W=f;return function(){var V=f;f=W;try{return A.apply(this,arguments)}finally{f=V}}}})(Hh);qh.exports=Hh;var Sg=qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=S,ft=Sg;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kh=new Set,Ms={};function an(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(Ms[e]=t,e=0;e<t.length;e++)Kh.add(t[e])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,Tg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tc={},Pc={};function Pg(e){return Jo.call(Pc,e)?!0:Jo.call(Tc,e)?!1:Tg.test(e)?Pc[e]=!0:(Tc[e]=!0,!1)}function Cg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Og(e,t,r,n){if(t===null||typeof t>"u"||Cg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function du(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cu,du);ze[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cu,du);ze[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cu,du);ze[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function hu(e,t,r,n){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Og(t,r,s,n)&&(r=null),n||s===null?Pg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ar=Eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wi=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),Xo=Symbol.for("react.profiler"),Yh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),pu=Symbol.for("react.forward_ref"),Zo=Symbol.for("react.suspense"),el=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),Qh=Symbol.for("react.offscreen"),Cc=Symbol.iterator;function ls(e){return e===null||typeof e!="object"?null:(e=Cc&&e[Cc]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,mo;function bs(e){if(mo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mo=t&&t[1]||""}return`
`+mo+e}var go=!1;function yo(e,t){if(!e||go)return"";go=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{go=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bs(e):""}function Rg(e){switch(e.tag){case 5:return bs(e.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return e=yo(e.type,!1),e;case 11:return e=yo(e.type.render,!1),e;case 1:return e=yo(e.type,!0),e;default:return""}}function tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case kn:return"Portal";case Xo:return"Profiler";case fu:return"StrictMode";case Zo:return"Suspense";case el:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gh:return(e.displayName||"Context")+".Consumer";case Yh:return(e._context.displayName||"Context")+".Provider";case pu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mu:return t=e.displayName||null,t!==null?t:tl(e.type)||"Memo";case hr:t=e._payload,e=e._init;try{return tl(e(t))}catch{}}return null}function Ng(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tl(t);case 8:return t===fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jg(e){var t=Jh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){e._valueTracker||(e._valueTracker=jg(e))}function Xh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Jh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rl(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Oc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zh(e,t){t=t.checked,t!=null&&hu(e,"checked",t,!1)}function nl(e,t){Zh(e,t);var r=jr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,r):t.hasOwnProperty("defaultValue")&&sl(e,t.type,jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sl(e,t,r){(t!=="number"||sa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xs=Array.isArray;function Ln(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(xs(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jr(r)}}function ef(e,t){var r=jr(t.value),n=jr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bi,rf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bi=bi||document.createElement("div"),bi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ag=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(e){Ag.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ts[t]=Ts[e]})});function nf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ts.hasOwnProperty(e)&&Ts[e]?(""+t).trim():t+"px"}function sf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ig=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ol(e,t){if(t){if(Ig[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,$n=null,Un=null;function Ac(e){if(e=pi(e)){if(typeof cl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Wa(t),cl(e.stateNode,e.type,t))}}function af(e){$n?Un?Un.push(e):Un=[e]:$n=e}function of(){if($n){var e=$n,t=Un;if(Un=$n=null,Ac(e),t)for(e=0;e<t.length;e++)Ac(t[e])}}function lf(e,t){return e(t)}function uf(){}var vo=!1;function cf(e,t,r){if(vo)return e(t,r);vo=!0;try{return lf(e,t,r)}finally{vo=!1,($n!==null||Un!==null)&&(uf(),of())}}function Bs(e,t){var r=e.stateNode;if(r===null)return null;var n=Wa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var dl=!1;if(tr)try{var us={};Object.defineProperty(us,"passive",{get:function(){dl=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{dl=!1}function Dg(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ps=!1,ia=null,aa=!1,hl=null,Lg={onError:function(e){Ps=!0,ia=e}};function $g(e,t,r,n,s,i,a,o,l){Ps=!1,ia=null,Dg.apply(Lg,arguments)}function Ug(e,t,r,n,s,i,a,o,l){if($g.apply(this,arguments),Ps){if(Ps){var u=ia;Ps=!1,ia=null}else throw Error(C(198));aa||(aa=!0,hl=u)}}function on(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function df(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ic(e){if(on(e)!==e)throw Error(C(188))}function Mg(e){var t=e.alternate;if(!t){if(t=on(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ic(s),e;if(i===n)return Ic(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function hf(e){return e=Mg(e),e!==null?ff(e):null}function ff(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ff(e);if(t!==null)return t;e=e.sibling}return null}var pf=ft.unstable_scheduleCallback,Dc=ft.unstable_cancelCallback,Fg=ft.unstable_shouldYield,Bg=ft.unstable_requestPaint,_e=ft.unstable_now,zg=ft.unstable_getCurrentPriorityLevel,yu=ft.unstable_ImmediatePriority,mf=ft.unstable_UserBlockingPriority,oa=ft.unstable_NormalPriority,Wg=ft.unstable_LowPriority,gf=ft.unstable_IdlePriority,Ma=null,Ht=null;function Vg(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Ma,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Kg,qg=Math.log,Hg=Math.LN2;function Kg(e){return e>>>=0,e===0?32:31-(qg(e)/Hg|0)|0}var xi=64,ki=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function la(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=ks(o):(i&=a,i!==0&&(n=ks(i)))}else a=r&~s,a!==0?n=ks(a):i!==0&&(n=ks(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nt(t),s=1<<r,n|=e[r],t&=~s;return n}function Yg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Nt(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Yg(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yf(){var e=xi;return xi<<=1,!(xi&4194240)&&(xi=64),e}function wo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=r}function Qg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Nt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function vu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ee=0;function vf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wf,wu,_f,bf,xf,pl=!1,Si=[],xr=null,kr=null,Sr=null,zs=new Map,Ws=new Map,mr=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function cs(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=pi(t),t!==null&&wu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xg(e,t,r,n,s){switch(t){case"focusin":return xr=cs(xr,e,t,r,n,s),!0;case"dragenter":return kr=cs(kr,e,t,r,n,s),!0;case"mouseover":return Sr=cs(Sr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return zs.set(i,cs(zs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ws.set(i,cs(Ws.get(i)||null,e,t,r,n,s)),!0}return!1}function kf(e){var t=Kr(e.target);if(t!==null){var r=on(t);if(r!==null){if(t=r.tag,t===13){if(t=df(r),t!==null){e.blockedOn=t,xf(e.priority,function(){_f(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ul=n,r.target.dispatchEvent(n),ul=null}else return t=pi(r),t!==null&&wu(t),e.blockedOn=r,!1;t.shift()}return!0}function $c(e,t,r){Ki(e)&&r.delete(t)}function Zg(){pl=!1,xr!==null&&Ki(xr)&&(xr=null),kr!==null&&Ki(kr)&&(kr=null),Sr!==null&&Ki(Sr)&&(Sr=null),zs.forEach($c),Ws.forEach($c)}function ds(e,t){e.blockedOn===t&&(e.blockedOn=null,pl||(pl=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,Zg)))}function Vs(e){function t(s){return ds(s,e)}if(0<Si.length){ds(Si[0],e);for(var r=1;r<Si.length;r++){var n=Si[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xr!==null&&ds(xr,e),kr!==null&&ds(kr,e),Sr!==null&&ds(Sr,e),zs.forEach(t),Ws.forEach(t),r=0;r<mr.length;r++)n=mr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)kf(r),r.blockedOn===null&&mr.shift()}var Mn=ar.ReactCurrentBatchConfig,ua=!0;function ey(e,t,r,n){var s=ee,i=Mn.transition;Mn.transition=null;try{ee=1,_u(e,t,r,n)}finally{ee=s,Mn.transition=i}}function ty(e,t,r,n){var s=ee,i=Mn.transition;Mn.transition=null;try{ee=4,_u(e,t,r,n)}finally{ee=s,Mn.transition=i}}function _u(e,t,r,n){if(ua){var s=ml(e,t,r,n);if(s===null)Oo(e,t,n,ca,r),Lc(e,n);else if(Xg(s,e,t,r,n))n.stopPropagation();else if(Lc(e,n),t&4&&-1<Jg.indexOf(e)){for(;s!==null;){var i=pi(s);if(i!==null&&wf(i),i=ml(e,t,r,n),i===null&&Oo(e,t,n,ca,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Oo(e,t,n,null,r)}}var ca=null;function ml(e,t,r,n){if(ca=null,e=gu(n),e=Kr(e),e!==null)if(t=on(e),t===null)e=null;else if(r=t.tag,r===13){if(e=df(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ca=e,null}function Sf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case yu:return 1;case mf:return 4;case oa:case Wg:return 16;case gf:return 536870912;default:return 16}default:return 16}}var wr=null,bu=null,Yi=null;function Ef(){if(Yi)return Yi;var e,t=bu,r=t.length,n,s="value"in wr?wr.value:wr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Yi=s.slice(e,1<n?1-n:void 0)}function Gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ei(){return!0}function Uc(){return!1}function mt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ei:Uc,this.isPropagationStopped=Uc,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=mt(Zn),fi=fe({},Zn,{view:0,detail:0}),ry=mt(fi),_o,bo,hs,Fa=fe({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(_o=e.screenX-hs.screenX,bo=e.screenY-hs.screenY):bo=_o=0,hs=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),Mc=mt(Fa),ny=fe({},Fa,{dataTransfer:0}),sy=mt(ny),iy=fe({},fi,{relatedTarget:0}),xo=mt(iy),ay=fe({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),oy=mt(ay),ly=fe({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uy=mt(ly),cy=fe({},Zn,{data:0}),Fc=mt(cy),dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fy[e])?!!t[e]:!1}function ku(){return py}var my=fe({},fi,{key:function(e){if(e.key){var t=dy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ku,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gy=mt(my),yy=fe({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=mt(yy),vy=fe({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ku}),wy=mt(vy),_y=fe({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),by=mt(_y),xy=fe({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ky=mt(xy),Sy=[9,13,27,32],Su=tr&&"CompositionEvent"in window,Cs=null;tr&&"documentMode"in document&&(Cs=document.documentMode);var Ey=tr&&"TextEvent"in window&&!Cs,Tf=tr&&(!Su||Cs&&8<Cs&&11>=Cs),zc=" ",Wc=!1;function Pf(e,t){switch(e){case"keyup":return Sy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function Ty(e,t){switch(e){case"compositionend":return Cf(t);case"keypress":return t.which!==32?null:(Wc=!0,zc);case"textInput":return e=t.data,e===zc&&Wc?null:e;default:return null}}function Py(e,t){if(En)return e==="compositionend"||!Su&&Pf(e,t)?(e=Ef(),Yi=bu=wr=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tf&&t.locale!=="ko"?null:t.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cy[e.type]:t==="textarea"}function Of(e,t,r,n){af(n),t=da(t,"onChange"),0<t.length&&(r=new xu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Os=null,qs=null;function Oy(e){Ff(e,0)}function Ba(e){var t=Cn(e);if(Xh(t))return e}function Ry(e,t){if(e==="change")return t}var Rf=!1;if(tr){var ko;if(tr){var So="oninput"in document;if(!So){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),So=typeof qc.oninput=="function"}ko=So}else ko=!1;Rf=ko&&(!document.documentMode||9<document.documentMode)}function Hc(){Os&&(Os.detachEvent("onpropertychange",Nf),qs=Os=null)}function Nf(e){if(e.propertyName==="value"&&Ba(qs)){var t=[];Of(t,qs,e,gu(e)),cf(Oy,t)}}function Ny(e,t,r){e==="focusin"?(Hc(),Os=t,qs=r,Os.attachEvent("onpropertychange",Nf)):e==="focusout"&&Hc()}function jy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ba(qs)}function Ay(e,t){if(e==="click")return Ba(t)}function Iy(e,t){if(e==="input"||e==="change")return Ba(t)}function Dy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Dy;function Hs(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Jo.call(t,s)||!At(e[s],t[s]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var r=Kc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kc(r)}}function jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Af(){for(var e=window,t=sa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sa(e.document)}return t}function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ly(e){var t=Af(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jf(r.ownerDocument.documentElement,r)){if(n!==null&&Eu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Yc(r,i);var a=Yc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $y=tr&&"documentMode"in document&&11>=document.documentMode,Tn=null,gl=null,Rs=null,yl=!1;function Gc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yl||Tn==null||Tn!==sa(n)||(n=Tn,"selectionStart"in n&&Eu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rs&&Hs(Rs,n)||(Rs=n,n=da(gl,"onSelect"),0<n.length&&(t=new xu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tn)))}function Ti(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pn={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},Eo={},If={};tr&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function za(e){if(Eo[e])return Eo[e];if(!Pn[e])return e;var t=Pn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in If)return Eo[e]=t[r];return e}var Df=za("animationend"),Lf=za("animationiteration"),$f=za("animationstart"),Uf=za("transitionend"),Mf=new Map,Qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Mf.set(e,t),an(t,[e])}for(var To=0;To<Qc.length;To++){var Po=Qc[To],Uy=Po.toLowerCase(),My=Po[0].toUpperCase()+Po.slice(1);Ir(Uy,"on"+My)}Ir(Df,"onAnimationEnd");Ir(Lf,"onAnimationIteration");Ir($f,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(Uf,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function Jc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ug(n,t,void 0,e),e.currentTarget=null}function Ff(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Jc(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Jc(s,o,u),i=l}}}if(aa)throw e=hl,aa=!1,hl=null,e}function se(e,t){var r=t[xl];r===void 0&&(r=t[xl]=new Set);var n=e+"__bubble";r.has(n)||(Bf(t,e,2,!1),r.add(n))}function Co(e,t,r){var n=0;t&&(n|=4),Bf(r,e,n,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Ks(e){if(!e[Pi]){e[Pi]=!0,Kh.forEach(function(r){r!=="selectionchange"&&(Fy.has(r)||Co(r,!1,e),Co(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,Co("selectionchange",!1,t))}}function Bf(e,t,r,n){switch(Sf(t)){case 1:var s=ey;break;case 4:s=ty;break;default:s=_u}r=s.bind(null,t,r,e),s=void 0,!dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Oo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Kr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}cf(function(){var u=i,c=gu(r),d=[];e:{var f=Mf.get(e);if(f!==void 0){var m=xu,v=e;switch(e){case"keypress":if(Gi(r)===0)break e;case"keydown":case"keyup":m=gy;break;case"focusin":v="focus",m=xo;break;case"focusout":v="blur",m=xo;break;case"beforeblur":case"afterblur":m=xo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wy;break;case Df:case Lf:case $f:m=oy;break;case Uf:m=by;break;case"scroll":m=ry;break;case"wheel":m=ky;break;case"copy":case"cut":case"paste":m=uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Bc}var _=(t&4)!==0,x=!_&&e==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var h=u,p;h!==null;){p=h;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,g!==null&&(b=Bs(h,g),b!=null&&_.push(Ys(h,b,p)))),x)break;h=h.return}0<_.length&&(f=new m(f,v,null,r,c),d.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==ul&&(v=r.relatedTarget||r.fromElement)&&(Kr(v)||v[rr]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Kr(v):null,v!==null&&(x=on(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(_=Mc,b="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(_=Bc,b="onPointerLeave",g="onPointerEnter",h="pointer"),x=m==null?f:Cn(m),p=v==null?f:Cn(v),f=new _(b,h+"leave",m,r,c),f.target=x,f.relatedTarget=p,b=null,Kr(c)===u&&(_=new _(g,h+"enter",v,r,c),_.target=p,_.relatedTarget=x,b=_),x=b,m&&v)t:{for(_=m,g=v,h=0,p=_;p;p=cn(p))h++;for(p=0,b=g;b;b=cn(b))p++;for(;0<h-p;)_=cn(_),h--;for(;0<p-h;)g=cn(g),p--;for(;h--;){if(_===g||g!==null&&_===g.alternate)break t;_=cn(_),g=cn(g)}_=null}else _=null;m!==null&&Xc(d,f,m,_,!1),v!==null&&x!==null&&Xc(d,x,v,_,!0)}}e:{if(f=u?Cn(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=Ry;else if(Vc(f))if(Rf)T=Iy;else{T=jy;var P=Ny}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Ay);if(T&&(T=T(e,u))){Of(d,T,r,c);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&sl(f,"number",f.value)}switch(P=u?Cn(u):window,e){case"focusin":(Vc(P)||P.contentEditable==="true")&&(Tn=P,gl=u,Rs=null);break;case"focusout":Rs=gl=Tn=null;break;case"mousedown":yl=!0;break;case"contextmenu":case"mouseup":case"dragend":yl=!1,Gc(d,r,c);break;case"selectionchange":if($y)break;case"keydown":case"keyup":Gc(d,r,c)}var O;if(Su)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else En?Pf(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Tf&&r.locale!=="ko"&&(En||j!=="onCompositionStart"?j==="onCompositionEnd"&&En&&(O=Ef()):(wr=c,bu="value"in wr?wr.value:wr.textContent,En=!0)),P=da(u,j),0<P.length&&(j=new Fc(j,e,null,r,c),d.push({event:j,listeners:P}),O?j.data=O:(O=Cf(r),O!==null&&(j.data=O)))),(O=Ey?Ty(e,r):Py(e,r))&&(u=da(u,"onBeforeInput"),0<u.length&&(c=new Fc("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=O))}Ff(d,t)})}function Ys(e,t,r){return{instance:e,listener:t,currentTarget:r}}function da(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bs(e,r),i!=null&&n.unshift(Ys(e,i,s)),i=Bs(e,t),i!=null&&n.push(Ys(e,i,s))),e=e.return}return n}function cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=Bs(r,i),l!=null&&a.unshift(Ys(r,l,o))):s||(l=Bs(r,i),l!=null&&a.push(Ys(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var By=/\r\n?/g,zy=/\u0000|\uFFFD/g;function Zc(e){return(typeof e=="string"?e:""+e).replace(By,`
`).replace(zy,"")}function Ci(e,t,r){if(t=Zc(t),Zc(e)!==t&&r)throw Error(C(425))}function ha(){}var vl=null,wl=null;function _l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bl=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(e){return ed.resolve(null).then(e).catch(qy)}:bl;function qy(e){setTimeout(function(){throw e})}function Ro(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vs(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),Mt="__reactFiber$"+es,Gs="__reactProps$"+es,rr="__reactContainer$"+es,xl="__reactEvents$"+es,Hy="__reactListeners$"+es,Ky="__reactHandles$"+es;function Kr(e){var t=e[Mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rr]||r[Mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=td(e);e!==null;){if(r=e[Mt])return r;e=td(e)}return t}e=r,r=e.parentNode}return null}function pi(e){return e=e[Mt]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Wa(e){return e[Gs]||null}var kl=[],On=-1;function Dr(e){return{current:e}}function ie(e){0>On||(e.current=kl[On],kl[On]=null,On--)}function re(e,t){On++,kl[On]=e.current,e.current=t}var Ar={},Ke=Dr(Ar),st=Dr(!1),en=Ar;function qn(e,t){var r=e.type.contextTypes;if(!r)return Ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function fa(){ie(st),ie(Ke)}function rd(e,t,r){if(Ke.current!==Ar)throw Error(C(168));re(Ke,t),re(st,r)}function zf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Ng(e)||"Unknown",s));return fe({},r,n)}function pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,en=Ke.current,re(Ke,e),re(st,st.current),!0}function nd(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=zf(e,t,en),n.__reactInternalMemoizedMergedChildContext=e,ie(st),ie(Ke),re(Ke,e)):ie(st),re(st,r)}var Jt=null,Va=!1,No=!1;function Wf(e){Jt===null?Jt=[e]:Jt.push(e)}function Yy(e){Va=!0,Wf(e)}function Lr(){if(!No&&Jt!==null){No=!0;var e=0,t=ee;try{var r=Jt;for(ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jt=null,Va=!1}catch(s){throw Jt!==null&&(Jt=Jt.slice(e+1)),pf(yu,Lr),s}finally{ee=t,No=!1}}return null}var Rn=[],Nn=0,ma=null,ga=0,gt=[],yt=0,tn=null,Xt=1,Zt="";function Br(e,t){Rn[Nn++]=ga,Rn[Nn++]=ma,ma=e,ga=t}function Vf(e,t,r){gt[yt++]=Xt,gt[yt++]=Zt,gt[yt++]=tn,tn=e;var n=Xt;e=Zt;var s=32-Nt(n)-1;n&=~(1<<s),r+=1;var i=32-Nt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Xt=1<<32-Nt(t)+s|r<<s|n,Zt=i+e}else Xt=1<<i|r<<s|n,Zt=e}function Tu(e){e.return!==null&&(Br(e,1),Vf(e,1,0))}function Pu(e){for(;e===ma;)ma=Rn[--Nn],Rn[Nn]=null,ga=Rn[--Nn],Rn[Nn]=null;for(;e===tn;)tn=gt[--yt],gt[yt]=null,Zt=gt[--yt],gt[yt]=null,Xt=gt[--yt],gt[yt]=null}var ht=null,dt=null,le=!1,Ct=null;function qf(e,t){var r=vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,dt=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tn!==null?{id:Xt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ht=e,dt=null,!0):!1;default:return!1}}function Sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function El(e){if(le){var t=dt;if(t){var r=t;if(!sd(e,t)){if(Sl(e))throw Error(C(418));t=Er(r.nextSibling);var n=ht;t&&sd(e,t)?qf(n,r):(e.flags=e.flags&-4097|2,le=!1,ht=e)}}else{if(Sl(e))throw Error(C(418));e.flags=e.flags&-4097|2,le=!1,ht=e}}}function id(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function Oi(e){if(e!==ht)return!1;if(!le)return id(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_l(e.type,e.memoizedProps)),t&&(t=dt)){if(Sl(e))throw Hf(),Error(C(418));for(;t;)qf(e,t),t=Er(t.nextSibling)}if(id(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=Er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ht?Er(e.stateNode.nextSibling):null;return!0}function Hf(){for(var e=dt;e;)e=Er(e.nextSibling)}function Hn(){dt=ht=null,le=!1}function Cu(e){Ct===null?Ct=[e]:Ct.push(e)}var Gy=ar.ReactCurrentBatchConfig;function fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Ri(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ad(e){var t=e._init;return t(e._payload)}function Kf(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function r(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(g,h){return g=Or(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,p,b){return h===null||h.tag!==6?(h=Uo(p,g.mode,b),h.return=g,h):(h=s(h,p),h.return=g,h)}function l(g,h,p,b){var T=p.type;return T===Sn?c(g,h,p.props.children,b,p.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hr&&ad(T)===h.type)?(b=s(h,p.props),b.ref=fs(g,h,p),b.return=g,b):(b=ra(p.type,p.key,p.props,null,g.mode,b),b.ref=fs(g,h,p),b.return=g,b)}function u(g,h,p,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Mo(p,g.mode,b),h.return=g,h):(h=s(h,p.children||[]),h.return=g,h)}function c(g,h,p,b,T){return h===null||h.tag!==7?(h=Zr(p,g.mode,b,T),h.return=g,h):(h=s(h,p),h.return=g,h)}function d(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Uo(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case wi:return p=ra(h.type,h.key,h.props,null,g.mode,p),p.ref=fs(g,null,h),p.return=g,p;case kn:return h=Mo(h,g.mode,p),h.return=g,h;case hr:var b=h._init;return d(g,b(h._payload),p)}if(xs(h)||ls(h))return h=Zr(h,g.mode,p,null),h.return=g,h;Ri(g,h)}return null}function f(g,h,p,b){var T=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return T!==null?null:o(g,h,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wi:return p.key===T?l(g,h,p,b):null;case kn:return p.key===T?u(g,h,p,b):null;case hr:return T=p._init,f(g,h,T(p._payload),b)}if(xs(p)||ls(p))return T!==null?null:c(g,h,p,b,null);Ri(g,p)}return null}function m(g,h,p,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(p)||null,o(h,g,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wi:return g=g.get(b.key===null?p:b.key)||null,l(h,g,b,T);case kn:return g=g.get(b.key===null?p:b.key)||null,u(h,g,b,T);case hr:var P=b._init;return m(g,h,p,P(b._payload),T)}if(xs(b)||ls(b))return g=g.get(p)||null,c(h,g,b,T,null);Ri(h,b)}return null}function v(g,h,p,b){for(var T=null,P=null,O=h,j=h=0,H=null;O!==null&&j<p.length;j++){O.index>j?(H=O,O=null):H=O.sibling;var z=f(g,O,p[j],b);if(z===null){O===null&&(O=H);break}e&&O&&z.alternate===null&&t(g,O),h=i(z,h,j),P===null?T=z:P.sibling=z,P=z,O=H}if(j===p.length)return r(g,O),le&&Br(g,j),T;if(O===null){for(;j<p.length;j++)O=d(g,p[j],b),O!==null&&(h=i(O,h,j),P===null?T=O:P.sibling=O,P=O);return le&&Br(g,j),T}for(O=n(g,O);j<p.length;j++)H=m(O,g,j,p[j],b),H!==null&&(e&&H.alternate!==null&&O.delete(H.key===null?j:H.key),h=i(H,h,j),P===null?T=H:P.sibling=H,P=H);return e&&O.forEach(function(We){return t(g,We)}),le&&Br(g,j),T}function _(g,h,p,b){var T=ls(p);if(typeof T!="function")throw Error(C(150));if(p=T.call(p),p==null)throw Error(C(151));for(var P=T=null,O=h,j=h=0,H=null,z=p.next();O!==null&&!z.done;j++,z=p.next()){O.index>j?(H=O,O=null):H=O.sibling;var We=f(g,O,z.value,b);if(We===null){O===null&&(O=H);break}e&&O&&We.alternate===null&&t(g,O),h=i(We,h,j),P===null?T=We:P.sibling=We,P=We,O=H}if(z.done)return r(g,O),le&&Br(g,j),T;if(O===null){for(;!z.done;j++,z=p.next())z=d(g,z.value,b),z!==null&&(h=i(z,h,j),P===null?T=z:P.sibling=z,P=z);return le&&Br(g,j),T}for(O=n(g,O);!z.done;j++,z=p.next())z=m(O,g,j,z.value,b),z!==null&&(e&&z.alternate!==null&&O.delete(z.key===null?j:z.key),h=i(z,h,j),P===null?T=z:P.sibling=z,P=z);return e&&O.forEach(function(q){return t(g,q)}),le&&Br(g,j),T}function x(g,h,p,b){if(typeof p=="object"&&p!==null&&p.type===Sn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case wi:e:{for(var T=p.key,P=h;P!==null;){if(P.key===T){if(T=p.type,T===Sn){if(P.tag===7){r(g,P.sibling),h=s(P,p.props.children),h.return=g,g=h;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hr&&ad(T)===P.type){r(g,P.sibling),h=s(P,p.props),h.ref=fs(g,P,p),h.return=g,g=h;break e}r(g,P);break}else t(g,P);P=P.sibling}p.type===Sn?(h=Zr(p.props.children,g.mode,b,p.key),h.return=g,g=h):(b=ra(p.type,p.key,p.props,null,g.mode,b),b.ref=fs(g,h,p),b.return=g,g=b)}return a(g);case kn:e:{for(P=p.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){r(g,h.sibling),h=s(h,p.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else t(g,h);h=h.sibling}h=Mo(p,g.mode,b),h.return=g,g=h}return a(g);case hr:return P=p._init,x(g,h,P(p._payload),b)}if(xs(p))return v(g,h,p,b);if(ls(p))return _(g,h,p,b);Ri(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(r(g,h.sibling),h=s(h,p),h.return=g,g=h):(r(g,h),h=Uo(p,g.mode,b),h.return=g,g=h),a(g)):r(g,h)}return x}var Kn=Kf(!0),Yf=Kf(!1),ya=Dr(null),va=null,jn=null,Ou=null;function Ru(){Ou=jn=va=null}function Nu(e){var t=ya.current;ie(ya),e._currentValue=t}function Tl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fn(e,t){va=e,Ou=jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(Ou!==e)if(e={context:e,memoizedValue:t,next:null},jn===null){if(va===null)throw Error(C(308));jn=e,va.dependencies={lanes:0,firstContext:e}}else jn=jn.next=e;return t}var Yr=null;function ju(e){Yr===null?Yr=[e]:Yr.push(e)}function Gf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ju(t)):(r.next=s.next,s.next=r),t.interleaved=r,nr(e,n)}function nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fr=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,nr(e,r)}return s=n.interleaved,s===null?(t.next=t,ju(n)):(t.next=s.next,s.next=t),n.interleaved=t,nr(e,r)}function Qi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vu(e,r)}}function od(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wa(e,t,r,n){var s=e.updateQueue;fr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var f=o.lane,m=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,_=o;switch(f=t,m=r,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=fe({},d,f);break e;case 2:fr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);nn|=a,e.lanes=a,e.memoizedState=d}}function ld(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var mi={},Kt=Dr(mi),Qs=Dr(mi),Js=Dr(mi);function Gr(e){if(e===mi)throw Error(C(174));return e}function Iu(e,t){switch(re(Js,t),re(Qs,e),re(Kt,mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=al(t,e)}ie(Kt),re(Kt,t)}function Yn(){ie(Kt),ie(Qs),ie(Js)}function Jf(e){Gr(Js.current);var t=Gr(Kt.current),r=al(t,e.type);t!==r&&(re(Qs,e),re(Kt,r))}function Du(e){Qs.current===e&&(ie(Kt),ie(Qs))}var ce=Dr(0);function _a(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=[];function Lu(){for(var e=0;e<jo.length;e++)jo[e]._workInProgressVersionPrimary=null;jo.length=0}var Ji=ar.ReactCurrentDispatcher,Ao=ar.ReactCurrentBatchConfig,rn=0,he=null,Re=null,Ie=null,ba=!1,Ns=!1,Xs=0,Qy=0;function Ve(){throw Error(C(321))}function $u(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function Uu(e,t,r,n,s,i){if(rn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ji.current=e===null||e.memoizedState===null?ev:tv,e=r(n,s),Ns){i=0;do{if(Ns=!1,Xs=0,25<=i)throw Error(C(301));i+=1,Ie=Re=null,t.updateQueue=null,Ji.current=rv,e=r(n,s)}while(Ns)}if(Ji.current=xa,t=Re!==null&&Re.next!==null,rn=0,Ie=Re=he=null,ba=!1,t)throw Error(C(300));return e}function Mu(){var e=Xs!==0;return Xs=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?he.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function bt(){if(Re===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ie===null?he.memoizedState:Ie.next;if(t!==null)Ie=t,Re=e;else{if(e===null)throw Error(C(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ie===null?he.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Zs(e,t){return typeof t=="function"?t(e):t}function Io(e){var t=bt(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=Re,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((rn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,he.lanes|=c,nn|=c}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,At(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,nn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Do(e){var t=bt(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);At(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Xf(){}function Zf(e,t){var r=he,n=bt(),s=t(),i=!At(n.memoizedState,s);if(i&&(n.memoizedState=s,nt=!0),n=n.queue,Fu(rp.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,ei(9,tp.bind(null,r,n,s,t),void 0,null),De===null)throw Error(C(349));rn&30||ep(r,t,s)}return s}function ep(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tp(e,t,r,n){t.value=r,t.getSnapshot=n,np(t)&&sp(e)}function rp(e,t,r){return r(function(){np(t)&&sp(e)})}function np(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function sp(e){var t=nr(e,1);t!==null&&jt(t,e,1,-1)}function ud(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},t.queue=e,e=e.dispatch=Zy.bind(null,he,e),[t.memoizedState,e]}function ei(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ip(){return bt().memoizedState}function Xi(e,t,r,n){var s=$t();he.flags|=e,s.memoizedState=ei(1|t,r,void 0,n===void 0?null:n)}function qa(e,t,r,n){var s=bt();n=n===void 0?null:n;var i=void 0;if(Re!==null){var a=Re.memoizedState;if(i=a.destroy,n!==null&&$u(n,a.deps)){s.memoizedState=ei(t,r,i,n);return}}he.flags|=e,s.memoizedState=ei(1|t,r,i,n)}function cd(e,t){return Xi(8390656,8,e,t)}function Fu(e,t){return qa(2048,8,e,t)}function ap(e,t){return qa(4,2,e,t)}function op(e,t){return qa(4,4,e,t)}function lp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function up(e,t,r){return r=r!=null?r.concat([e]):null,qa(4,4,lp.bind(null,t,e),r)}function Bu(){}function cp(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$u(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dp(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$u(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hp(e,t,r){return rn&21?(At(r,t)||(r=yf(),he.lanes|=r,nn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function Jy(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var n=Ao.transition;Ao.transition={};try{e(!1),t()}finally{ee=r,Ao.transition=n}}function fp(){return bt().memoizedState}function Xy(e,t,r){var n=Cr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pp(e))mp(t,r);else if(r=Gf(e,t,r,n),r!==null){var s=Xe();jt(r,e,n,s),gp(r,t,n)}}function Zy(e,t,r){var n=Cr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pp(e))mp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,At(o,a)){var l=t.interleaved;l===null?(s.next=s,ju(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Gf(e,t,s,n),r!==null&&(s=Xe(),jt(r,e,n,s),gp(r,t,n))}}function pp(e){var t=e.alternate;return e===he||t!==null&&t===he}function mp(e,t){Ns=ba=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vu(e,r)}}var xa={readContext:_t,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},ev={readContext:_t,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:cd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xi(4194308,4,lp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xi(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xy.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:ud,useDebugValue:Bu,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=ud(!1),t=e[0];return e=Jy.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=he,s=$t();if(le){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),De===null)throw Error(C(349));rn&30||ep(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,cd(rp.bind(null,n,i,e),[e]),n.flags|=2048,ei(9,tp.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$t(),t=De.identifierPrefix;if(le){var r=Zt,n=Xt;r=(n&~(1<<32-Nt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Qy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tv={readContext:_t,useCallback:cp,useContext:_t,useEffect:Fu,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:dp,useReducer:Io,useRef:ip,useState:function(){return Io(Zs)},useDebugValue:Bu,useDeferredValue:function(e){var t=bt();return hp(t,Re.memoizedState,e)},useTransition:function(){var e=Io(Zs)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Zf,useId:fp,unstable_isNewReconciler:!1},rv={readContext:_t,useCallback:cp,useContext:_t,useEffect:Fu,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:dp,useReducer:Do,useRef:ip,useState:function(){return Do(Zs)},useDebugValue:Bu,useDeferredValue:function(e){var t=bt();return Re===null?t.memoizedState=e:hp(t,Re.memoizedState,e)},useTransition:function(){var e=Do(Zs)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Zf,useId:fp,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ha={isMounted:function(e){return(e=e._reactInternals)?on(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=Cr(e),i=er(n,s);i.payload=t,r!=null&&(i.callback=r),t=Tr(e,i,s),t!==null&&(jt(t,e,s,n),Qi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=Cr(e),i=er(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Tr(e,i,s),t!==null&&(jt(t,e,s,n),Qi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),n=Cr(e),s=er(r,n);s.tag=2,t!=null&&(s.callback=t),t=Tr(e,s,n),t!==null&&(jt(t,e,n,r),Qi(t,e,n))}};function dd(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Hs(r,n)||!Hs(s,i):!0}function yp(e,t,r){var n=!1,s=Ar,i=t.contextType;return typeof i=="object"&&i!==null?i=_t(i):(s=it(t)?en:Ke.current,n=t.contextTypes,i=(n=n!=null)?qn(e,s):Ar),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function hd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Cl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Au(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=_t(i):(i=it(t)?en:Ke.current,s.context=qn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ha.enqueueReplaceState(s,s.state,null),wa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var r="",n=t;do r+=Rg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Lo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ol(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nv=typeof WeakMap=="function"?WeakMap:Map;function vp(e,t,r){r=er(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sa||(Sa=!0,Ml=n),Ol(e,t)},r}function wp(e,t,r){r=er(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ol(e,t),typeof n!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function fd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=yv.bind(null,e,t,r),t.then(e,e))}function pd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function md(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=er(-1,1),t.tag=2,Tr(r,t,1))),r.lanes|=1),e)}var sv=ar.ReactCurrentOwner,nt=!1;function Je(e,t,r,n){t.child=e===null?Yf(t,null,r,n):Kn(t,e.child,r,n)}function gd(e,t,r,n,s){r=r.render;var i=t.ref;return Fn(t,s),n=Uu(e,t,r,n,i,s),r=Mu(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sr(e,t,s)):(le&&r&&Tu(t),t.flags|=1,Je(e,t,n,s),t.child)}function yd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Gu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,_p(e,t,i,n,s)):(e=ra(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hs,r(a,n)&&e.ref===t.ref)return sr(e,t,s)}return t.flags|=1,e=Or(i,n),e.ref=t.ref,e.return=t,t.child=e}function _p(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Hs(i,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,sr(e,t,s)}return Rl(e,t,r,n,s)}function bp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(In,lt),lt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(In,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,re(In,lt),lt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,re(In,lt),lt|=n;return Je(e,t,s,r),t.child}function xp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rl(e,t,r,n,s){var i=it(r)?en:Ke.current;return i=qn(t,i),Fn(t,s),r=Uu(e,t,r,n,i,s),n=Mu(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sr(e,t,s)):(le&&n&&Tu(t),t.flags|=1,Je(e,t,r,s),t.child)}function vd(e,t,r,n,s){if(it(r)){var i=!0;pa(t)}else i=!1;if(Fn(t,s),t.stateNode===null)Zi(e,t),yp(t,r,n),Cl(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=it(r)?en:Ke.current,u=qn(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&hd(t,a,n,u),fr=!1;var f=t.memoizedState;a.state=f,wa(t,n,a,s),l=t.memoizedState,o!==n||f!==l||st.current||fr?(typeof c=="function"&&(Pl(t,r,c,n),l=t.memoizedState),(o=fr||dd(t,r,o,n,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Qf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:St(t.type,o),a.props=u,d=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=_t(l):(l=it(r)?en:Ke.current,l=qn(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&hd(t,a,n,l),fr=!1,f=t.memoizedState,a.state=f,wa(t,n,a,s);var v=t.memoizedState;o!==d||f!==v||st.current||fr?(typeof m=="function"&&(Pl(t,r,m,n),v=t.memoizedState),(u=fr||dd(t,r,u,n,f,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Nl(e,t,r,n,i,s)}function Nl(e,t,r,n,s,i){xp(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&nd(t,r,!1),sr(e,t,i);n=t.stateNode,sv.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Kn(t,e.child,null,i),t.child=Kn(t,null,o,i)):Je(e,t,o,i),t.memoizedState=n.state,s&&nd(t,r,!0),t.child}function kp(e){var t=e.stateNode;t.pendingContext?rd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rd(e,t.context,!1),Iu(e,t.containerInfo)}function wd(e,t,r,n,s){return Hn(),Cu(s),t.flags|=256,Je(e,t,r,n),t.child}var jl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sp(e,t,r){var n=t.pendingProps,s=ce.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),re(ce,s&1),e===null)return El(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ga(a,n,0,null),e=Zr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Al(r),t.memoizedState=jl,e):zu(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return iv(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Or(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Or(o,i):(i=Zr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Al(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=jl,n}return i=e.child,e=i.sibling,n=Or(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zu(e,t){return t=Ga({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ni(e,t,r,n){return n!==null&&Cu(n),Kn(t,e.child,null,r),e=zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iv(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Lo(Error(C(422))),Ni(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ga({mode:"visible",children:n.children},s,0,null),i=Zr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Kn(t,e.child,null,a),t.child.memoizedState=Al(a),t.memoizedState=jl,i);if(!(t.mode&1))return Ni(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(C(419)),n=Lo(i,n,void 0),Ni(e,t,a,n)}if(o=(a&e.childLanes)!==0,nt||o){if(n=De,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nr(e,s),jt(n,e,s,-1))}return Yu(),n=Lo(Error(C(421))),Ni(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,dt=Er(s.nextSibling),ht=t,le=!0,Ct=null,e!==null&&(gt[yt++]=Xt,gt[yt++]=Zt,gt[yt++]=tn,Xt=e.id,Zt=e.overflow,tn=t),t=zu(t,n.children),t.flags|=4096,t)}function _d(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tl(e.return,t,r)}function $o(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ep(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Je(e,t,n.children,r),n=ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_d(e,r,t);else if(e.tag===19)_d(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(re(ce,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_a(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$o(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_a(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$o(t,!0,r,null,i);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function av(e,t,r){switch(t.tag){case 3:kp(t),Hn();break;case 5:Jf(t);break;case 1:it(t.type)&&pa(t);break;case 4:Iu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;re(ya,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(re(ce,ce.current&1),t.flags|=128,null):r&t.child.childLanes?Sp(e,t,r):(re(ce,ce.current&1),e=sr(e,t,r),e!==null?e.sibling:null);re(ce,ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ep(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(ce,ce.current),n)break;return null;case 22:case 23:return t.lanes=0,bp(e,t,r)}return sr(e,t,r)}var Tp,Il,Pp,Cp;Tp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Il=function(){};Pp=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Gr(Kt.current);var i=null;switch(r){case"input":s=rl(e,s),n=rl(e,n),i=[];break;case"select":s=fe({},s,{value:void 0}),n=fe({},n,{value:void 0}),i=[];break;case"textarea":s=il(e,s),n=il(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ha)}ol(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ms.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&se("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Cp=function(e,t,r,n){r!==n&&(t.flags|=4)};function ps(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ov(e,t,r){var n=t.pendingProps;switch(Pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return it(t.type)&&fa(),qe(t),null;case 3:return n=t.stateNode,Yn(),ie(st),ie(Ke),Lu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(zl(Ct),Ct=null))),Il(e,t),qe(t),null;case 5:Du(t);var s=Gr(Js.current);if(r=t.type,e!==null&&t.stateNode!=null)Pp(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return qe(t),null}if(e=Gr(Kt.current),Oi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Mt]=t,n[Gs]=i,e=(t.mode&1)!==0,r){case"dialog":se("cancel",n),se("close",n);break;case"iframe":case"object":case"embed":se("load",n);break;case"video":case"audio":for(s=0;s<Ss.length;s++)se(Ss[s],n);break;case"source":se("error",n);break;case"img":case"image":case"link":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"input":Oc(n,i),se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},se("invalid",n);break;case"textarea":Nc(n,i),se("invalid",n)}ol(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ci(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ci(n.textContent,o,e),s=["children",""+o]):Ms.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&se("scroll",n)}switch(r){case"input":_i(n),Rc(n,i,!0);break;case"textarea":_i(n),jc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ha)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Mt]=t,e[Gs]=n,Tp(e,t,!1,!1),t.stateNode=e;e:{switch(a=ll(r,n),r){case"dialog":se("cancel",e),se("close",e),s=n;break;case"iframe":case"object":case"embed":se("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ss.length;s++)se(Ss[s],e);s=n;break;case"source":se("error",e),s=n;break;case"img":case"image":case"link":se("error",e),se("load",e),s=n;break;case"details":se("toggle",e),s=n;break;case"input":Oc(e,n),s=rl(e,n),se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=fe({},n,{value:void 0}),se("invalid",e);break;case"textarea":Nc(e,n),s=il(e,n),se("invalid",e);break;default:s=n}ol(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?sf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rf(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Fs(e,l):typeof l=="number"&&Fs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ms.hasOwnProperty(i)?l!=null&&i==="onScroll"&&se("scroll",e):l!=null&&hu(e,i,l,a))}switch(r){case"input":_i(e),Rc(e,n,!1);break;case"textarea":_i(e),jc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ln(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ln(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ha)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Cp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=Gr(Js.current),Gr(Kt.current),Oi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mt]=t,(i=n.nodeValue!==r)&&(e=ht,e!==null))switch(e.tag){case 3:Ci(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ci(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mt]=t,t.stateNode=n}return qe(t),null;case 13:if(ie(ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&dt!==null&&t.mode&1&&!(t.flags&128))Hf(),Hn(),t.flags|=98560,i=!1;else if(i=Oi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Mt]=t}else Hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Ct!==null&&(zl(Ct),Ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?Ne===0&&(Ne=3):Yu())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Yn(),Il(e,t),e===null&&Ks(t.stateNode.containerInfo),qe(t),null;case 10:return Nu(t.type._context),qe(t),null;case 17:return it(t.type)&&fa(),qe(t),null;case 19:if(ie(ce),i=t.memoizedState,i===null)return qe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ps(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=_a(e),a!==null){for(t.flags|=128,ps(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return re(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&_e()>Qn&&(t.flags|=128,n=!0,ps(i,!1),t.lanes=4194304)}else{if(!n)if(e=_a(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ps(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!le)return qe(t),null}else 2*_e()-i.renderingStartTime>Qn&&r!==1073741824&&(t.flags|=128,n=!0,ps(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_e(),t.sibling=null,r=ce.current,re(ce,n?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return Ku(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?lt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function lv(e,t){switch(Pu(t),t.tag){case 1:return it(t.type)&&fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),ie(st),ie(Ke),Lu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Du(t),null;case 13:if(ie(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ce),null;case 4:return Yn(),null;case 10:return Nu(t.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var ji=!1,He=!1,uv=typeof WeakSet=="function"?WeakSet:Set,L=null;function An(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ge(e,t,n)}else r.current=null}function Dl(e,t,r){try{r()}catch(n){ge(e,t,n)}}var bd=!1;function cv(e,t){if(vl=ua,e=Af(),Eu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++c===n&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(wl={focusedElem:e,selectionRange:r},ua=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:St(t.type,_),x);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return v=bd,bd=!1,v}function js(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dl(t,r,i)}s=s.next}while(s!==n)}}function Ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ll(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Op(e){var t=e.alternate;t!==null&&(e.alternate=null,Op(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Gs],delete t[xl],delete t[Hy],delete t[Ky])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rp(e){return e.tag===5||e.tag===3||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $l(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ha));else if(n!==4&&(e=e.child,e!==null))for($l(e,t,r),e=e.sibling;e!==null;)$l(e,t,r),e=e.sibling}function Ul(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ul(e,t,r),e=e.sibling;e!==null;)Ul(e,t,r),e=e.sibling}var Me=null,Tt=!1;function cr(e,t,r){for(r=r.child;r!==null;)Np(e,t,r),r=r.sibling}function Np(e,t,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Ma,r)}catch{}switch(r.tag){case 5:He||An(r,t);case 6:var n=Me,s=Tt;Me=null,cr(e,t,r),Me=n,Tt=s,Me!==null&&(Tt?(e=Me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(Tt?(e=Me,r=r.stateNode,e.nodeType===8?Ro(e.parentNode,r):e.nodeType===1&&Ro(e,r),Vs(e)):Ro(Me,r.stateNode));break;case 4:n=Me,s=Tt,Me=r.stateNode.containerInfo,Tt=!0,cr(e,t,r),Me=n,Tt=s;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Dl(r,t,a),s=s.next}while(s!==n)}cr(e,t,r);break;case 1:if(!He&&(An(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ge(r,t,o)}cr(e,t,r);break;case 21:cr(e,t,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,cr(e,t,r),He=n):cr(e,t,r);break;default:cr(e,t,r)}}function kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uv),t.forEach(function(n){var s=wv.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,Tt=!1;break e;case 3:Me=o.stateNode.containerInfo,Tt=!0;break e;case 4:Me=o.stateNode.containerInfo,Tt=!0;break e}o=o.return}if(Me===null)throw Error(C(160));Np(i,a,s),Me=null,Tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jp(t,e),t=t.sibling}function jp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Lt(e),n&4){try{js(3,e,e.return),Ka(3,e)}catch(_){ge(e,e.return,_)}try{js(5,e,e.return)}catch(_){ge(e,e.return,_)}}break;case 1:xt(t,e),Lt(e),n&512&&r!==null&&An(r,r.return);break;case 5:if(xt(t,e),Lt(e),n&512&&r!==null&&An(r,r.return),e.flags&32){var s=e.stateNode;try{Fs(s,"")}catch(_){ge(e,e.return,_)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Zh(s,i),ll(o,a);var u=ll(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?sf(s,d):c==="dangerouslySetInnerHTML"?rf(s,d):c==="children"?Fs(s,d):hu(s,c,d,u)}switch(o){case"input":nl(s,i);break;case"textarea":ef(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ln(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ln(s,!!i.multiple,i.defaultValue,!0):Ln(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gs]=i}catch(_){ge(e,e.return,_)}}break;case 6:if(xt(t,e),Lt(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){ge(e,e.return,_)}}break;case 3:if(xt(t,e),Lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(_){ge(e,e.return,_)}break;case 4:xt(t,e),Lt(e);break;case 13:xt(t,e),Lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qu=_e())),n&4&&kd(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(He=(u=He)||c,xt(t,e),He=u):xt(t,e),Lt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(d=L=c;L!==null;){switch(f=L,m=f.child,f.tag){case 0:case 11:case 14:case 15:js(4,f,f.return);break;case 1:An(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){ge(n,r,_)}}break;case 5:An(f,f.return);break;case 22:if(f.memoizedState!==null){Ed(d);continue}}m!==null?(m.return=f,L=m):Ed(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=nf("display",a))}catch(_){ge(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){ge(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xt(t,e),Lt(e),n&4&&kd(e);break;case 21:break;default:xt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rp(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fs(s,""),n.flags&=-33);var i=xd(e);Ul(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=xd(e);$l(e,o,a);break;default:throw Error(C(161))}}catch(l){ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dv(e,t,r){L=e,Ap(e)}function Ap(e,t,r){for(var n=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ji;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||He;o=ji;var u=He;if(ji=a,(He=l)&&!u)for(L=s;L!==null;)a=L,l=a.child,a.tag===22&&a.memoizedState!==null?Td(s):l!==null?(l.return=a,L=l):Td(s);for(;i!==null;)L=i,Ap(i),i=i.sibling;L=s,ji=o,He=u}Sd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):Sd(e)}}function Sd(e){for(;L!==null;){var t=L;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Ka(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!He)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:St(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ld(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ld(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}He||t.flags&512&&Ll(t)}catch(f){ge(t,t.return,f)}}if(t===e){L=null;break}if(r=t.sibling,r!==null){r.return=t.return,L=r;break}L=t.return}}function Ed(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var r=t.sibling;if(r!==null){r.return=t.return,L=r;break}L=t.return}}function Td(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ka(4,t)}catch(l){ge(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ge(t,s,l)}}var i=t.return;try{Ll(t)}catch(l){ge(t,i,l)}break;case 5:var a=t.return;try{Ll(t)}catch(l){ge(t,a,l)}}}catch(l){ge(t,t.return,l)}if(t===e){L=null;break}var o=t.sibling;if(o!==null){o.return=t.return,L=o;break}L=t.return}}var hv=Math.ceil,ka=ar.ReactCurrentDispatcher,Wu=ar.ReactCurrentOwner,wt=ar.ReactCurrentBatchConfig,G=0,De=null,Te=null,Be=0,lt=0,In=Dr(0),Ne=0,ti=null,nn=0,Ya=0,Vu=0,As=null,rt=null,qu=0,Qn=1/0,Gt=null,Sa=!1,Ml=null,Pr=null,Ai=!1,_r=null,Ea=0,Is=0,Fl=null,ea=-1,ta=0;function Xe(){return G&6?_e():ea!==-1?ea:ea=_e()}function Cr(e){return e.mode&1?G&2&&Be!==0?Be&-Be:Gy.transition!==null?(ta===0&&(ta=yf()),ta):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Sf(e.type)),e):1}function jt(e,t,r,n){if(50<Is)throw Is=0,Fl=null,Error(C(185));hi(e,r,n),(!(G&2)||e!==De)&&(e===De&&(!(G&2)&&(Ya|=r),Ne===4&&gr(e,Be)),at(e,n),r===1&&G===0&&!(t.mode&1)&&(Qn=_e()+500,Va&&Lr()))}function at(e,t){var r=e.callbackNode;Gg(e,t);var n=la(e,e===De?Be:0);if(n===0)r!==null&&Dc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Dc(r),t===1)e.tag===0?Yy(Pd.bind(null,e)):Wf(Pd.bind(null,e)),Vy(function(){!(G&6)&&Lr()}),r=null;else{switch(vf(n)){case 1:r=yu;break;case 4:r=mf;break;case 16:r=oa;break;case 536870912:r=gf;break;default:r=oa}r=Bp(r,Ip.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ip(e,t){if(ea=-1,ta=0,G&6)throw Error(C(327));var r=e.callbackNode;if(Bn()&&e.callbackNode!==r)return null;var n=la(e,e===De?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ta(e,n);else{t=n;var s=G;G|=2;var i=Lp();(De!==e||Be!==t)&&(Gt=null,Qn=_e()+500,Xr(e,t));do try{mv();break}catch(o){Dp(e,o)}while(!0);Ru(),ka.current=i,G=s,Te!==null?t=0:(De=null,Be=0,t=Ne)}if(t!==0){if(t===2&&(s=fl(e),s!==0&&(n=s,t=Bl(e,s))),t===1)throw r=ti,Xr(e,0),gr(e,n),at(e,_e()),r;if(t===6)gr(e,n);else{if(s=e.current.alternate,!(n&30)&&!fv(s)&&(t=Ta(e,n),t===2&&(i=fl(e),i!==0&&(n=i,t=Bl(e,i))),t===1))throw r=ti,Xr(e,0),gr(e,n),at(e,_e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:zr(e,rt,Gt);break;case 3:if(gr(e,n),(n&130023424)===n&&(t=qu+500-_e(),10<t)){if(la(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bl(zr.bind(null,e,rt,Gt),t);break}zr(e,rt,Gt);break;case 4:if(gr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Nt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=_e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hv(n/1960))-n,10<n){e.timeoutHandle=bl(zr.bind(null,e,rt,Gt),n);break}zr(e,rt,Gt);break;case 5:zr(e,rt,Gt);break;default:throw Error(C(329))}}}return at(e,_e()),e.callbackNode===r?Ip.bind(null,e):null}function Bl(e,t){var r=As;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=Ta(e,t),e!==2&&(t=rt,rt=r,t!==null&&zl(t)),e}function zl(e){rt===null?rt=e:rt.push.apply(rt,e)}function fv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~Vu,t&=~Ya,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nt(t),n=1<<r;e[r]=-1,t&=~n}}function Pd(e){if(G&6)throw Error(C(327));Bn();var t=la(e,0);if(!(t&1))return at(e,_e()),null;var r=Ta(e,t);if(e.tag!==0&&r===2){var n=fl(e);n!==0&&(t=n,r=Bl(e,n))}if(r===1)throw r=ti,Xr(e,0),gr(e,t),at(e,_e()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,rt,Gt),at(e,_e()),null}function Hu(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(Qn=_e()+500,Va&&Lr())}}function sn(e){_r!==null&&_r.tag===0&&!(G&6)&&Bn();var t=G;G|=1;var r=wt.transition,n=ee;try{if(wt.transition=null,ee=1,e)return e()}finally{ee=n,wt.transition=r,G=t,!(G&6)&&Lr()}}function Ku(){lt=In.current,ie(In)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Wy(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(Pu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fa();break;case 3:Yn(),ie(st),ie(Ke),Lu();break;case 5:Du(n);break;case 4:Yn();break;case 13:ie(ce);break;case 19:ie(ce);break;case 10:Nu(n.type._context);break;case 22:case 23:Ku()}r=r.return}if(De=e,Te=e=Or(e.current,null),Be=lt=t,Ne=0,ti=null,Vu=Ya=nn=0,rt=As=null,Yr!==null){for(t=0;t<Yr.length;t++)if(r=Yr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Yr=null}return e}function Dp(e,t){do{var r=Te;try{if(Ru(),Ji.current=xa,ba){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ba=!1}if(rn=0,Ie=Re=he=null,Ns=!1,Xs=0,Wu.current=null,r===null||r.return===null){Ne=1,ti=t,Te=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=Be,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=pd(a);if(m!==null){m.flags&=-257,md(m,a,o,i,t),m.mode&1&&fd(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(l),t.updateQueue=_}else v.add(l);break e}else{if(!(t&1)){fd(i,u,t),Yu();break e}l=Error(C(426))}}else if(le&&o.mode&1){var x=pd(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),md(x,a,o,i,t),Cu(Gn(l,o));break e}}i=l=Gn(l,o),Ne!==4&&(Ne=2),As===null?As=[i]:As.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=vp(i,l,t);od(i,g);break e;case 1:o=l;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pr===null||!Pr.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=wp(i,o,t);od(i,b);break e}}i=i.return}while(i!==null)}Up(r)}catch(T){t=T,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function Lp(){var e=ka.current;return ka.current=xa,e===null?xa:e}function Yu(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),De===null||!(nn&268435455)&&!(Ya&268435455)||gr(De,Be)}function Ta(e,t){var r=G;G|=2;var n=Lp();(De!==e||Be!==t)&&(Gt=null,Xr(e,t));do try{pv();break}catch(s){Dp(e,s)}while(!0);if(Ru(),G=r,ka.current=n,Te!==null)throw Error(C(261));return De=null,Be=0,Ne}function pv(){for(;Te!==null;)$p(Te)}function mv(){for(;Te!==null&&!Fg();)$p(Te)}function $p(e){var t=Fp(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Up(e):Te=t,Wu.current=null}function Up(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lv(r,t),r!==null){r.flags&=32767,Te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Te=null;return}}else if(r=ov(r,t,lt),r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ne===0&&(Ne=5)}function zr(e,t,r){var n=ee,s=wt.transition;try{wt.transition=null,ee=1,gv(e,t,r,n)}finally{wt.transition=s,ee=n}return null}function gv(e,t,r,n){do Bn();while(_r!==null);if(G&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Qg(e,i),e===De&&(Te=De=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ai||(Ai=!0,Bp(oa,function(){return Bn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var a=ee;ee=1;var o=G;G|=4,Wu.current=null,cv(e,r),jp(r,e),Ly(wl),ua=!!vl,wl=vl=null,e.current=r,dv(r),Bg(),G=o,ee=a,wt.transition=i}else e.current=r;if(Ai&&(Ai=!1,_r=e,Ea=s),i=e.pendingLanes,i===0&&(Pr=null),Vg(r.stateNode),at(e,_e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Sa)throw Sa=!1,e=Ml,Ml=null,e;return Ea&1&&e.tag!==0&&Bn(),i=e.pendingLanes,i&1?e===Fl?Is++:(Is=0,Fl=e):Is=0,Lr(),null}function Bn(){if(_r!==null){var e=vf(Ea),t=wt.transition,r=ee;try{if(wt.transition=null,ee=16>e?16:e,_r===null)var n=!1;else{if(e=_r,_r=null,Ea=0,G&6)throw Error(C(331));var s=G;for(G|=4,L=e.current;L!==null;){var i=L,a=i.child;if(L.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:js(8,c,i)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var f=c.sibling,m=c.return;if(Op(c),c===u){L=null;break}if(f!==null){f.return=m,L=f;break}L=m}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}L=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,L=a;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:js(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,L=g;break e}L=i.return}}var h=e.current;for(L=h;L!==null;){a=L;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,L=p;else e:for(a=h;L!==null;){if(o=L,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ka(9,o)}}catch(T){ge(o,o.return,T)}if(o===a){L=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,L=b;break e}L=o.return}}if(G=s,Lr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Ma,e)}catch{}n=!0}return n}finally{ee=r,wt.transition=t}}return!1}function Cd(e,t,r){t=Gn(r,t),t=vp(e,t,1),e=Tr(e,t,1),t=Xe(),e!==null&&(hi(e,1,t),at(e,t))}function ge(e,t,r){if(e.tag===3)Cd(e,e,r);else for(;t!==null;){if(t.tag===3){Cd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pr===null||!Pr.has(n))){e=Gn(r,e),e=wp(t,e,1),t=Tr(t,e,1),e=Xe(),t!==null&&(hi(t,1,e),at(t,e));break}}t=t.return}}function yv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,De===e&&(Be&r)===r&&(Ne===4||Ne===3&&(Be&130023424)===Be&&500>_e()-qu?Xr(e,0):Vu|=r),at(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=ki,ki<<=1,!(ki&130023424)&&(ki=4194304)):t=1);var r=Xe();e=nr(e,t),e!==null&&(hi(e,t,r),at(e,r))}function vv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mp(e,r)}function wv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Mp(e,r)}var Fp;Fp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,av(e,t,r);nt=!!(e.flags&131072)}else nt=!1,le&&t.flags&1048576&&Vf(t,ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zi(e,t),e=t.pendingProps;var s=qn(t,Ke.current);Fn(t,r),s=Uu(null,t,n,e,s,r);var i=Mu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(i=!0,pa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Au(t),s.updater=Ha,t.stateNode=s,s._reactInternals=t,Cl(t,n,e,r),t=Nl(null,t,n,!0,i,r)):(t.tag=0,le&&i&&Tu(t),Je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=bv(n),e=St(n,e),s){case 0:t=Rl(null,t,n,e,r);break e;case 1:t=vd(null,t,n,e,r);break e;case 11:t=gd(null,t,n,e,r);break e;case 14:t=yd(null,t,n,St(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:St(n,s),Rl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:St(n,s),vd(e,t,n,s,r);case 3:e:{if(kp(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Qf(e,t),wa(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gn(Error(C(423)),t),t=wd(e,t,n,r,s);break e}else if(n!==s){s=Gn(Error(C(424)),t),t=wd(e,t,n,r,s);break e}else for(dt=Er(t.stateNode.containerInfo.firstChild),ht=t,le=!0,Ct=null,r=Yf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hn(),n===s){t=sr(e,t,r);break e}Je(e,t,n,r)}t=t.child}return t;case 5:return Jf(t),e===null&&El(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,_l(n,s)?a=null:i!==null&&_l(n,i)&&(t.flags|=32),xp(e,t),Je(e,t,a,r),t.child;case 6:return e===null&&El(t),null;case 13:return Sp(e,t,r);case 4:return Iu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kn(t,null,n,r):Je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:St(n,s),gd(e,t,n,s,r);case 7:return Je(e,t,t.pendingProps,r),t.child;case 8:return Je(e,t,t.pendingProps.children,r),t.child;case 12:return Je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,re(ya,n._currentValue),n._currentValue=a,i!==null)if(At(i.value,a)){if(i.children===s.children&&!st.current){t=sr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=er(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Tl(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(C(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Tl(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Fn(t,r),s=_t(s),n=n(s),t.flags|=1,Je(e,t,n,r),t.child;case 14:return n=t.type,s=St(n,t.pendingProps),s=St(n.type,s),yd(e,t,n,s,r);case 15:return _p(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:St(n,s),Zi(e,t),t.tag=1,it(n)?(e=!0,pa(t)):e=!1,Fn(t,r),yp(t,n,s),Cl(t,n,s,r),Nl(null,t,n,!0,e,r);case 19:return Ep(e,t,r);case 22:return bp(e,t,r)}throw Error(C(156,t.tag))};function Bp(e,t){return pf(e,t)}function _v(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,r,n){return new _v(e,t,r,n)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bv(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pu)return 11;if(e===mu)return 14}return 2}function Or(e,t){var r=e.alternate;return r===null?(r=vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ra(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Gu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Sn:return Zr(r.children,s,i,t);case fu:a=8,s|=8;break;case Xo:return e=vt(12,r,t,s|2),e.elementType=Xo,e.lanes=i,e;case Zo:return e=vt(13,r,t,s),e.elementType=Zo,e.lanes=i,e;case el:return e=vt(19,r,t,s),e.elementType=el,e.lanes=i,e;case Qh:return Ga(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yh:a=10;break e;case Gh:a=9;break e;case pu:a=11;break e;case mu:a=14;break e;case hr:a=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=vt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Zr(e,t,r,n){return e=vt(7,e,n,t),e.lanes=r,e}function Ga(e,t,r,n){return e=vt(22,e,n,t),e.elementType=Qh,e.lanes=r,e.stateNode={isHidden:!1},e}function Uo(e,t,r){return e=vt(6,e,null,t),e.lanes=r,e}function Mo(e,t,r){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xv(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qu(e,t,r,n,s,i,a,o,l){return e=new xv(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(i),e}function kv(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zp(e){if(!e)return Ar;e=e._reactInternals;e:{if(on(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(it(r))return zf(e,r,t)}return t}function Wp(e,t,r,n,s,i,a,o,l){return e=Qu(r,n,!0,e,s,i,a,o,l),e.context=zp(null),r=e.current,n=Xe(),s=Cr(r),i=er(n,s),i.callback=t??null,Tr(r,i,s),e.current.lanes=s,hi(e,s,n),at(e,n),e}function Qa(e,t,r,n){var s=t.current,i=Xe(),a=Cr(s);return r=zp(r),t.context===null?t.context=r:t.pendingContext=r,t=er(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Tr(s,t,a),e!==null&&(jt(e,s,a,i),Qi(e,s,a)),a}function Pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ju(e,t){Od(e,t),(e=e.alternate)&&Od(e,t)}function Sv(){return null}var Vp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}Ja.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Qa(e,t,null,null)};Ja.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sn(function(){Qa(null,e,null,null)}),t[rr]=null}};function Ja(e){this._internalRoot=e}Ja.prototype.unstable_scheduleHydration=function(e){if(e){var t=bf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<mr.length&&t!==0&&t<mr[r].priority;r++);mr.splice(r,0,e),r===0&&kf(e)}};function Zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rd(){}function Ev(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Pa(a);i.call(u)}}var a=Wp(t,n,e,0,null,!1,!1,"",Rd);return e._reactRootContainer=a,e[rr]=a.current,Ks(e.nodeType===8?e.parentNode:e),sn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Pa(l);o.call(u)}}var l=Qu(e,0,!1,null,null,!1,!1,"",Rd);return e._reactRootContainer=l,e[rr]=l.current,Ks(e.nodeType===8?e.parentNode:e),sn(function(){Qa(t,l,r,n)}),l}function Za(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Pa(a);o.call(l)}}Qa(t,a,e,s)}else a=Ev(r,t,e,s,n);return Pa(a)}wf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ks(t.pendingLanes);r!==0&&(vu(t,r|1),at(t,_e()),!(G&6)&&(Qn=_e()+500,Lr()))}break;case 13:sn(function(){var n=nr(e,1);if(n!==null){var s=Xe();jt(n,e,1,s)}}),Ju(e,1)}};wu=function(e){if(e.tag===13){var t=nr(e,134217728);if(t!==null){var r=Xe();jt(t,e,134217728,r)}Ju(e,134217728)}};_f=function(e){if(e.tag===13){var t=Cr(e),r=nr(e,t);if(r!==null){var n=Xe();jt(r,e,t,n)}Ju(e,t)}};bf=function(){return ee};xf=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};cl=function(e,t,r){switch(t){case"input":if(nl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wa(n);if(!s)throw Error(C(90));Xh(n),nl(n,s)}}}break;case"textarea":ef(e,r);break;case"select":t=r.value,t!=null&&Ln(e,!!r.multiple,t,!1)}};lf=Hu;uf=sn;var Tv={usingClientEntryPoint:!1,Events:[pi,Cn,Wa,af,of,Hu]},ms={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pv={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hf(e),e===null?null:e.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||Sv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ii.isDisabled&&Ii.supportsFiber)try{Ma=Ii.inject(Pv),Ht=Ii}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tv;pt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(t))throw Error(C(200));return kv(e,t,null,r)};pt.createRoot=function(e,t){if(!Zu(e))throw Error(C(299));var r=!1,n="",s=Vp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qu(e,1,!1,null,null,r,!1,n,s),e[rr]=t.current,Ks(e.nodeType===8?e.parentNode:e),new Xu(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=hf(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return sn(e)};pt.hydrate=function(e,t,r){if(!Xa(t))throw Error(C(200));return Za(null,e,t,!0,r)};pt.hydrateRoot=function(e,t,r){if(!Zu(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Vp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Wp(t,null,e,1,r??null,s,!1,i,a),e[rr]=t.current,Ks(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ja(t)};pt.render=function(e,t,r){if(!Xa(t))throw Error(C(200));return Za(null,e,t,!1,r)};pt.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(C(40));return e._reactRootContainer?(sn(function(){Za(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1};pt.unstable_batchedUpdates=Hu;pt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xa(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Za(e,t,r,!1,n)};pt.version="18.3.1-next-f1338f8080-20240426";function qp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qp)}catch(e){console.error(e)}}qp(),Vh.exports=pt;var Cv=Vh.exports,Nd=Cv;Qo.createRoot=Nd.createRoot,Qo.hydrateRoot=Nd.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(this,arguments)}var br;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(br||(br={}));const jd="popstate";function Ov(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Wl("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ca(s)}return Nv(t,r,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ec(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rv(){return Math.random().toString(36).substr(2,8)}function Ad(e,t){return{usr:e.state,key:e.key,idx:t}}function Wl(e,t,r,n){return r===void 0&&(r=null),ri({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ts(t):t,{state:r,key:t&&t.key||n||Rv()})}function Ca(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ts(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Nv(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=br.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(ri({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=br.Pop;let x=c(),g=x==null?null:x-u;u=x,l&&l({action:o,location:_.location,delta:g})}function f(x,g){o=br.Push;let h=Wl(_.location,x,g);u=c()+1;let p=Ad(h,u),b=_.createHref(h);try{a.pushState(p,"",b)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(b)}i&&l&&l({action:o,location:_.location,delta:1})}function m(x,g){o=br.Replace;let h=Wl(_.location,x,g);u=c();let p=Ad(h,u),b=_.createHref(h);a.replaceState(p,"",b),i&&l&&l({action:o,location:_.location,delta:0})}function v(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof x=="string"?x:Ca(x);return h=h.replace(/ $/,"%20"),ke(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let _={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(jd,d),l=x,()=>{s.removeEventListener(jd,d),l=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(x){return a.go(x)}};return _}var Id;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Id||(Id={}));function jv(e,t,r){return r===void 0&&(r="/"),Av(e,t,r)}function Av(e,t,r,n){let s=typeof t=="string"?ts(t):t,i=tc(s.pathname||"/",r);if(i==null)return null;let a=Hp(e);Iv(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Hv(i);o=Wv(a[l],u)}return o}function Hp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ke(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Rr([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Hp(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Bv(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Kp(i.path))s(i,a,l)}),t}function Kp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Kp(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Iv(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zv(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Dv=/^:[\w-]+$/,Lv=3,$v=2,Uv=1,Mv=10,Fv=-2,Dd=e=>e==="*";function Bv(e,t){let r=e.split("/"),n=r.length;return r.some(Dd)&&(n+=Fv),t&&(n+=$v),r.filter(s=>!Dd(s)).reduce((s,i)=>s+(Dv.test(i)?Lv:i===""?Uv:Mv),n)}function zv(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Wv(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Vv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Rr([i,d.pathname]),pathnameBase:Jv(Rr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Rr([i,d.pathnameBase]))}return a}function Vv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qv(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let _=o[d]||"";a=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const v=o[d];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function qv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ec(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Hv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ec(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yv=e=>Kv.test(e);function Gv(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ts(e):e,i;if(r)if(Yv(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),ec(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Ld(r.substring(1),"/"):i=Ld(r,t)}else i=t;return{pathname:i,search:Xv(n),hash:Zv(s)}}function Ld(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Fo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rc(e,t){let r=Qv(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ts(e):(s=ri({},e),ke(!s.pathname||!s.pathname.includes("?"),Fo("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),Fo("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),Fo("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?t[d]:"/"}let l=Gv(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Rr=e=>e.join("/").replace(/\/\/+/g,"/"),Jv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function e0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yp=["post","put","patch","delete"];new Set(Yp);const t0=["get",...Yp];new Set(t0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(this,arguments)}const sc=S.createContext(null),r0=S.createContext(null),$r=S.createContext(null),eo=S.createContext(null),or=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Gp=S.createContext(null);function n0(e,t){let{relative:r}=t===void 0?{}:t;rs()||ke(!1);let{basename:n,navigator:s}=S.useContext($r),{hash:i,pathname:a,search:o}=Jp(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Rr([n,a])),s.createHref({pathname:l,search:o,hash:i})}function rs(){return S.useContext(eo)!=null}function ns(){return rs()||ke(!1),S.useContext(eo).location}function Qp(e){S.useContext($r).static||S.useLayoutEffect(e)}function ss(){let{isDataRoute:e}=S.useContext(or);return e?y0():s0()}function s0(){rs()||ke(!1);let e=S.useContext(sc),{basename:t,future:r,navigator:n}=S.useContext($r),{matches:s}=S.useContext(or),{pathname:i}=ns(),a=JSON.stringify(rc(s,r.v7_relativeSplatPath)),o=S.useRef(!1);return Qp(()=>{o.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=nc(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Rr([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,i,e])}function i0(){let{matches:e}=S.useContext(or),t=e[e.length-1];return t?t.params:{}}function Jp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext($r),{matches:s}=S.useContext(or),{pathname:i}=ns(),a=JSON.stringify(rc(s,n.v7_relativeSplatPath));return S.useMemo(()=>nc(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function a0(e,t){return o0(e,t)}function o0(e,t,r,n){rs()||ke(!1);let{navigator:s}=S.useContext($r),{matches:i}=S.useContext(or),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ns(),c;if(t){var d;let x=typeof t=="string"?ts(t):t;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||ke(!1),c=x}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=jv(e,{pathname:m}),_=h0(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Rr([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Rr([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&_?S.createElement(eo.Provider,{value:{location:ni({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:br.Pop}},_):_}function l0(){let e=g0(),t=e0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const u0=S.createElement(l0,null);class c0 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(or.Provider,{value:this.props.routeContext},S.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d0(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(sc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(or.Provider,{value:t},n)}function h0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||ke(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=r,v=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let m,v=!1,_=null,x=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,_=d.route.errorElement||u0,l&&(u<0&&f===0?(v0("route-fallback"),v=!0,x=null):u===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),h=()=>{let p;return m?p=_:v?p=x:d.route.Component?p=S.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,S.createElement(d0,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(c0,{location:r.location,revalidation:r.revalidation,component:_,error:m,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Xp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xp||{}),Zp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zp||{});function f0(e){let t=S.useContext(sc);return t||ke(!1),t}function p0(e){let t=S.useContext(r0);return t||ke(!1),t}function m0(e){let t=S.useContext(or);return t||ke(!1),t}function em(e){let t=m0(),r=t.matches[t.matches.length-1];return r.route.id||ke(!1),r.route.id}function g0(){var e;let t=S.useContext(Gp),r=p0(),n=em();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function y0(){let{router:e}=f0(Xp.UseNavigateStable),t=em(Zp.UseNavigateStable),r=S.useRef(!1);return Qp(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ni({fromRouteId:t},i)))},[e,t])}const $d={};function v0(e,t,r){$d[e]||($d[e]=!0)}function w0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _0(e){let{to:t,replace:r,state:n,relative:s}=e;rs()||ke(!1);let{future:i,static:a}=S.useContext($r),{matches:o}=S.useContext(or),{pathname:l}=ns(),u=ss(),c=nc(t,rc(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return S.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Ft(e){ke(!1)}function b0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=br.Pop,navigator:i,static:a=!1,future:o}=e;rs()&&ke(!1);let l=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:a,future:ni({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=ts(n));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:v="default"}=n,_=S.useMemo(()=>{let x=tc(c,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:v},navigationType:s}},[l,c,d,f,m,v,s]);return _==null?null:S.createElement($r.Provider,{value:u},S.createElement(eo.Provider,{children:r,value:_}))}function tm(e){let{children:t,location:r}=e;return a0(Vl(t),r)}new Promise(()=>{});function Vl(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,Vl(n.props.children,i));return}n.type!==Ft&&ke(!1),!n.props.index||!n.props.children||ke(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Vl(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function x0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function k0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S0(e,t){return e.button===0&&(!t||t==="_self")&&!k0(e)}const E0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T0="6";try{window.__reactRouterVersion=T0}catch{}const P0="startTransition",Ud=yg[P0];function C0(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=Ov({window:s,v5Compat:!0}));let a=i.current,[o,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=S.useCallback(d=>{u&&Ud?Ud(()=>l(d)):l(d)},[l,u]);return S.useLayoutEffect(()=>a.listen(c),[a,c]),S.useEffect(()=>w0(n),[n]),S.createElement(b0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=S.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,f=x0(t,E0),{basename:m}=S.useContext($r),v,_=!1;if(typeof u=="string"&&R0.test(u)&&(v=u,O0))try{let p=new URL(window.location.href),b=u.startsWith("//")?new URL(p.protocol+u):new URL(u),T=tc(b.pathname,m);b.origin===p.origin&&T!=null?u=T+b.search+b.hash:_=!0}catch{}let x=n0(u,{relative:s}),g=N0(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d});function h(p){n&&n(p),p.defaultPrevented||g(p)}return S.createElement("a",ql({},f,{href:v||x,onClick:_||i?n:h,ref:r,target:l}))});var Md;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Md||(Md={}));var Fd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fd||(Fd={}));function N0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=ss(),u=ns(),c=Jp(e,{relative:a});return S.useCallback(d=>{if(S0(d,r)){d.preventDefault();let f=n!==void 0?n:Ca(u)===Ca(c);l(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,c,n,s,r,e,i,a,o])}function to(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function j0(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const A0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ic extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class I0 extends ic{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Bd extends ic{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zd extends ic{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hl||(Hl={}));class D0{constructor(t,{headers:r={},customFetch:n,region:s=Hl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=A0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return j0(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=n;let f={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let _;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(f["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(f["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let x=c;d&&(a=new AbortController,i=setTimeout(()=>a.abort(),d),c?(x=a.signal,c.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:_,signal:x}).catch(T=>{throw new I0(T)}),h=g.headers.get("x-relay-error");if(h&&h==="true")throw new Bd(g);if(!g.ok)throw new zd(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield g.json():p==="application/octet-stream"||p==="application/pdf"?b=yield g.blob():p==="text/event-stream"?b=g:p==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof zd||o instanceof Bd?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var L0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},$0=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,f;if(r.method!=="HEAD"){var m;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const _=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const _=await i.text();try{a=JSON.parse(_),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&_===""?(u=204,c="No Content"):a={message:_}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&r.shouldThrowOnError)throw new L0(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const c=i==null?void 0:i.cause;if(c){var d,f,m,v;const g=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",h=(f=c==null?void 0:c.code)!==null&&f!==void 0?f:"";o=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${g}`,h&&(o+=` (${h})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var _;o=(_=i==null?void 0:i.stack)!==null&&_!==void 0?_:""}const x=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},U0=class extends $0{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Wd=new RegExp("[,()]");var wn=class extends U0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Wd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Wd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},M0=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new wn({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new wn({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new wn({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new wn({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new wn({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function F0(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0(e){var t=F0(e,"string");return si(t)=="symbol"?t:t+""}function z0(e,t,r){return(t=B0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vd(Object(r),!0).forEach(function(n){z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var W0=class rm{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(d),o(l,u);const m=()=>{clearTimeout(d),c.abort()};return f.addEventListener("abort",m,{once:!0}),o(l,Di(Di({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",m)})}return o(l,Di(Di({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new M0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new rm(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=n&&Object.values(r).some(c);d?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{l.searchParams.append(m,v)})):(o="POST",u=r);const f=new Headers(this.headers);return d?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new wn({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class V0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const q0="2.97.0",H0=`realtime-js/${q0}`,K0="1.0.0",nm="2.0.0",qd=nm,Kl=1e4,Y0=1e3,G0=100;var pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pr||(pr={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var Pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pt||(Pt={}));var Yl;(function(e){e.websocket="websocket"})(Yl||(Yl={}));var qr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qr||(qr={}));class Q0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(m),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,l.length),v.setUint8(_++,o.length),v.setUint8(_++,a.length),v.setUint8(_++,u.length),v.setUint8(_++,d.length),v.setUint8(_++,r),Array.from(l,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(d,g=>v.setUint8(_++,g.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const f=t.slice(l,t.byteLength),m=o===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class sm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(te||(te={}));const Hd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=J0(a,e,t,s),i),{}):{}},J0=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?im(i,a):Gl(a)},im=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return tw(t,r)}switch(e){case te.bool:return X0(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Z0(t);case te.json:case te.jsonb:return ew(t);case te.timestamp:return rw(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Gl(t);default:return Gl(t)}},Gl=e=>e,X0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Z0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ew=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},tw=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>im(t,o))}return e},rw=e=>typeof e=="string"?e.replace(" ","T"):e,am=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Bo{constructor(t,r,n={},s=Kl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kd||(Kd={}));class Ds{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ds.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Ds.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ds.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const f=c.map(x=>x.presence_ref),m=d.map(x=>x.presence_ref),v=c.filter(x=>m.indexOf(x.presence_ref)<0),_=d.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(o[u]=v),_.length>0&&(l[u]=_)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(m=>m.presence_ref),f=c.filter(m=>d.indexOf(m.presence_ref)<0);t[o].unshift(...f)}n(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yd||(Yd={}));var Ls;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ls||(Ls={}));var Qt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class Dn{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bo(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new sm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Ds(this),this.broadcastEndpointURL=am(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Ls.PRESENCE]&&this.bindings[Ls.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Qt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Qt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,g=[];for(let h=0;h<x;h++){const p=_[h],{filter:{event:b,schema:T,table:P,filter:O}}=p,j=m&&m[h];if(j&&j.event===b&&Dn.isFilterValueEqual(j.schema,T)&&Dn.isFilterValueEqual(j.table,P)&&Dn.isFilterValueEqual(j.filter,O))g.push(Object.assign(Object.assign({},p),{id:j.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Qt.SUBSCRIBED);return}}).receive("error",m=>{this.state=Oe.errored,t==null||t(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Oe.joined&&t===Ls.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Bo(this,Pt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bo(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>G0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Pt;if(n&&[o,l,u,c].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,_,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(_=m.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,_,x,g,h,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const b=m.id,T=(v=m.filter)===null||v===void 0?void 0:v.event;return b&&((_=r.ids)===null||_===void 0?void 0:_.includes(b))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(h=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:_,table:x,commit_timestamp:g,type:h,errors:p}=v;f=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(v))}m.callback(f,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Dn.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pt.close,{},t)}_onError(t){this._on(Pt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hd(t.columns,t.old_record)),r}}const zo=()=>{},Li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nw=[1e3,2e3,5e3,1e4],sw=1e4,iw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aw{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kl,this.transport=null,this.heartbeatIntervalMs=Li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zo,this.ref=0,this.reconnectTimer=null,this.vsn=qd,this.logger=zo,this.conn=null,this.sendBuffer=[],this.serializer=new Q0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Yl.websocket}`,this.httpEndpoint=am(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pr.connecting:return qr.Connecting;case pr.open:return qr.Open;case pr.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Dn(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Y0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Li.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===pr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===pr.open||this.conn.readyState===pr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:H0};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Pt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u,c,d,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Kl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Li.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:zo,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:qd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>nw[v-1]||sw,this.vsn){case K0:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,_)=>_(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,_)=>_(JSON.parse(v));break;case nm:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ii=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ow(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function lw(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function uw(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=ow(e.baseUrl,n,s),l=await lw(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?f:void 0,v=m==null?void 0:m.error;throw new ii((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function $i(e){return e.join("")}var cw=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:$i(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$i(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$i(e.namespace)}`}),!0}catch(t){if(t instanceof ii&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ii&&r.status===409)return;throw r}}};function dn(e){return e.join("")}var dw=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dn(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ii&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ii&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},hw=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=uw({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new cw(this.client,t),this.tableOps=new dw(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ro=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function no(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ui=class extends ro{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},om=class extends ro{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const fw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ql=e=>{if(Array.isArray(e))return e.map(r=>Ql(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ql(n)}),t},mw=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function gw(e,t){if(ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yw(e){var t=gw(e,"string");return ai(t)=="symbol"?t:t+""}function vw(e,t,r){return(t=yw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gd(Object(r),!0).forEach(function(n){vw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Qd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ww=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Ui(Qd(a),i,o,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new Ui(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new Ui(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new Ui(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new om(Qd(e),e,n))},_w=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?F(F({},s),r):(pw(n)?(s.headers=F({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),F(F({},s),r))};async function gs(e,t,r,n,s,i,a){return new Promise((o,l)=>{e(r,_w(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>ww(u,l,n,a))})}function lm(e="storage"){return{get:async(t,r,n,s)=>gs(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>gs(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>gs(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>gs(t,"HEAD",r,F(F({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>gs(t,"DELETE",r,s,i,n,e)}}const bw=lm("storage"),{get:oi,post:Et,put:Jl,head:xw,remove:ac}=bw,ut=lm("vectors");var is=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=fw(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=F(F({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(no(r))return{data:null,error:r};throw r}}},kw=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(no(t))return{data:null,error:t};throw t}}};let um;um=Symbol.toStringTag;var Sw=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[um]="BlobDownloadBuilder",this.promise=null}asStream(){return new kw(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(no(t))return{data:null,error:t};throw t}}};const Ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tw=class extends is{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=F(F({},Jd),n);let o=F(F({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=F(F({},o),n.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?Jl:Et)(s.fetch,`${s.url}/object/${c}`,i,F({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=F({upsert:Jd.upsert},n),c=F(F({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await Jl(s.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=F({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Et(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new ro("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Et(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Et(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Et(n.fetch,`${n.url}/object/sign/${s}`,F({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Et(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>F(F({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),o=()=>oi(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Sw(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Ql(await oi(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await xw(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(no(n)&&n instanceof om){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await ac(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=F(F(F({},Ew),t),{},{prefix:e||""});return await Et(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=F({},e);return await Et(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Pw="2.97.0",gi={"X-Client-Info":`storage-js/${Pw}`};var Cw=class extends is{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=F(F({},gi),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await oi(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await oi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Et(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Jl(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Et(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ac(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ow=class extends is{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=F(F({},gi),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Et(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await oi(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ac(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!mw(e))throw new ro("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new hw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},Rw=class extends is{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=F(F({},gi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ut.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ut.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Nw=class extends is{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=F(F({},gi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},jw=class extends is{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=F(F({},gi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ut.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Aw=class extends jw{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Iw(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Iw=class extends Rw{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,F(F({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,F(F({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Dw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Dw=class extends Nw{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,F(F({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,F(F({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,F(F({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,F(F({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,F(F({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Lw=class extends Cw{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Tw(this.url,this.headers,e,this.fetch)}get vectors(){return new Aw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ow(this.url+"/iceberg",this.headers,this.fetch)}};const cm="2.97.0",_n=30*1e3,Xl=3,Wo=Xl*_n,$w="http://localhost:9999",Uw="supabase.auth.token",Mw={"X-Client-Info":`gotrue-js/${cm}`},Zl="X-Supabase-Api-Version",dm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bw=10*60*1e3;class li extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zw extends li{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ww(e){return U(e)&&e.name==="AuthApiError"}class Hr extends li{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class lr extends li{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ot extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vo(e){return U(e)&&e.name==="AuthSessionMissingError"}class hn extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mi extends lr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fi extends lr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vw(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xd extends lr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qw extends lr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class eu extends lr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qo(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Zd extends lr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tu extends lr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eh=` 	
\r=`.split(""),Hw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eh.length;t+=1)e[eh[t].charCodeAt(0)]=-2;for(let t=0;t<Oa.length;t+=1)e[Oa[t].charCodeAt(0)]=t;return e})();function th(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Oa[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Oa[n]),t.queuedBits-=6}}function hm(e,t,r){const n=Hw[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rh(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Gw(a,n,r)};for(let a=0;a<e.length;a+=1)hm(e.charCodeAt(a),s,i);return t.join("")}function Kw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Yw(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Kw(n,t)}}function Gw(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)hm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Qw(e){const t=[];return Yw(e,r=>t.push(r)),new Uint8Array(t)}function Qr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>th(s,r,n)),th(null,r,n),t.join("")}function Jw(e){return Math.round(Date.now()/1e3)+e}function Xw(){return Symbol("auth-callback")}const Ue=()=>typeof window<"u"&&typeof document<"u",Mr={tested:!1,writable:!1},fm=()=>{if(!Ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mr.tested)return Mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mr.tested=!0,Mr.writable=!0}catch{Mr.tested=!0,Mr.writable=!1}return Mr.writable};function Zw(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const pm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),e_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$e=async(e,t)=>{await e.removeItem(t)};class so{constructor(){this.promise=new so.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}so.promiseConstructor=Promise;function Bi(e){const t=e.split(".");if(t.length!==3)throw new tu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Fw.test(t[n]))throw new tu("JWT not in base64url format");return{header:JSON.parse(rh(t[0])),payload:JSON.parse(rh(t[1])),signature:zn(t[2]),raw:{header:t[0],payload:t[1]}}}async function t_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function r_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function n_(e){return("0"+e.toString(16)).substr(-2)}function s_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,n_).join("")}async function i_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function a_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await i_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fn(e,t,r=!1){const n=s_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await bn(e,`${t}-code-verifier`,s);const i=await a_(n);return[i,n===i?"plain":"s256"]}const o_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l_(e){const t=e.headers.get(Zl);if(!t||!t.match(o_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function u_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function c_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pn(e){if(!d_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ho(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h_(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function nh(e){return JSON.parse(JSON.stringify(e))}const Wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),f_=[502,503,504];async function sh(e){var t;if(!e_(e))throw new eu(Wr(e),0);if(f_.includes(e.status))throw new eu(Wr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Hr(Wr(i),i)}let n;const s=l_(e);if(s&&s.getTime()>=dm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zd(Wr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Zd(Wr(r),e.status,r.weak_password.reasons);throw new zw(Wr(r),e.status||500,n)}const p_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Zl]||(i[Zl]=dm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await m_(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function m_(e,t,r,n,s,i){const a=p_(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new eu(Wr(l),0)}if(o.ok||await sh(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await sh(l)}}function kt(e){var t;let r=null;v_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Jw(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ih(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function g_(e){return{data:e,error:null}}function y_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=to(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function ah(e){return e}function v_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ko=["global","local","others"];class w_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=pm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ko[0]){if(Ko.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ko.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yr})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=to(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:y_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yr})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ah});if(c.error)throw c.error;const d=await c.json(),f=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){pn(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yr})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){pn(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:yr})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){pn(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:yr})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){pn(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){pn(t.userId),pn(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ah});if(c.error)throw c.error;const d=await c.json(),f=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(U(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}}function oh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const mn={debug:!!(globalThis&&fm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lh extends mm{}async function __(e,t,r){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lh(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new lh(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function b_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function x_(e){return parseInt(e,16)}function k_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function S_(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=gm(e.address),v=c?`${c}://${n}`:n,_=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${_}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let h=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);h+=`
- ${p}`}g+=h}return`${x}
${g}`}class Ee extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ra extends Ee{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function E_({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ee({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ym(a)){if(i.rp.id!==a)return new Ee({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function T_({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ee({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ym(n)){if(r.rpId!==n)return new Ee({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class P_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const C_=new P_;function O_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=to(e,["challenge","user","excludeCredentials"]),i=zn(t).buffer,a=Object.assign(Object.assign({},r),{id:zn(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:zn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function R_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=to(e,["challenge","allowCredentials"]),s=zn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:zn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function N_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function j_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qr(new Uint8Array(s.authenticatorData)),clientDataJSON:Qr(new Uint8Array(s.clientDataJSON)),signature:Qr(new Uint8Array(s.signature)),userHandle:s.userHandle?Qr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ym(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function uh(){var e,t;return!!(Ue()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function A_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ra("Browser returned unexpected credential type",t)}:{data:null,error:new Ra("Empty credential response",t)}}catch(t){return{data:null,error:E_({error:t,options:e})}}}async function I_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ra("Browser returned unexpected credential type",t)}:{data:null,error:new Ra("Empty credential response",t)}}catch(t){return{data:null,error:T_({error:t,options:e})}}}const D_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},L_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Na(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=Na(o,a):n[i]=Na(a)}else n[i]=a}return n}function $_(e,t){return Na(D_,e,t||{})}function U_(e,t){return Na(L_,e,t||{})}class M_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const u=s??C_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const d=n;if(d)c.name=`${c.id}:${d}`;else{const m=(await this.client.getUser()).data.user,v=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=$_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await A_({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=U_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await I_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new Hr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new li("rpId is required for WebAuthn authentication")};try{if(!uh())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return U(a)?{data:null,error:a}:{data:null,error:new Hr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new li("rpId is required for WebAuthn registration")};try{if(!uh())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return U(a)?{data:null,error:a}:{data:null,error:new Hr("Unexpected error in register",a)}}}}b_();const F_={url:$w,storageKey:Uw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function ch(e,t,r){return await r()}const gn={};class ui{get jwks(){var t,r;return(r=(t=gn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},F_),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ui.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ue()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new w_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pm(i.fetch),this.lock=i.lock||ch,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ue()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=__:this.lock=ch,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new M_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:fm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=oh(this.memoryStorage)),Ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}i.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cm}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ue()&&(r=Zw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ue()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vw(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?this._returnResult({error:r}):this._returnResult({error:new Hr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await fn(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:kt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kt})}else throw new Mi("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await $e(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await $e(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ih})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ih})}else throw new Mi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new hn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,u,c,d,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:_,wallet:x,statement:g,options:h}=t;let p;if(Ue())if(typeof x=="object")p=x;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")p=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=x}const b=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href),T=await p.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=gm(T[0]);let O=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const H=await p.request({method:"eth_chainId"});O=x_(H)}const j={domain:b.host,address:P,statement:g,uri:b.href,version:"1",chainId:O,nonce:(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=h==null?void 0:h.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=S_(j),v=await p.request({method:"personal_sign",params:[k_(m),P]})}try{const{data:_,error:x}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kt});if(x)throw x;if(!_||!_.session||!_.user){const g=new hn;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(U(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,n,s,i,a,o,l,u,c,d,f,m;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:x,wallet:g,statement:h,options:p}=t;let b;if(Ue())if(typeof g=="object")b=g;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))b=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const T=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const P=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),h?{statement:h}:null));let O;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")O=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)O=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)v=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),_=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const P=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:x,error:g}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Qr(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:kt});if(g)throw g;if(!x||!x.session||!x.user){const h=new hn;return this._returnResult({data:{user:null,session:null},error:h})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(U(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Fr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new qw;const{data:i,error:a}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kt});if(await $e(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new hn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await $e(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new hn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await fn(this.storage,this.storageKey));const{error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Mi("You must provide either an email or phone number.")}catch(o){if(await $e(this.storage,`${this.storageKey}-code-verifier`),U(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await fn(this.storage,this.storageKey));const u=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:g_});return!((i=u.data)===null||i===void 0)&&i.url&&Ue()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await $e(this.storage,`${this.storageKey}-code-verifier`),U(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ot;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(U(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Mi("You must provide either an email or phone number and a type")}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Fr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ho()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=h_(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ot}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yr})})}catch(r){if(U(r))return Vo(r)&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ot;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await fn(this.storage,this.storageKey));const{data:u,error:c}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:yr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await $e(this.storage,`${this.storageKey}-code-verifier`),U(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ot;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Bi(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(U(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ot;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ue())throw new Fi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xd("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new Fi("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let f=c+d;l&&(f=parseInt(l));const m=f-c;m*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:_,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(U(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Vo(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Ww(o)&&(o.status===404||o.status===401||o.status===403)||Vo(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Xw(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await fn(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await $e(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ue()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(U(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=t,d=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kt}),{data:f,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new hn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await $e(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await r_(async s=>(s>0&&await t_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&qo(i)&&Date.now()+a-n<_n})}catch(n){if(this._debug(r,"error",n),U(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ue()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Fr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Fr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await bn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ho()}else if(s&&!s.user&&!s.user){const a=await Fr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await $e(this.storage,this.storageKey+"-user"),await bn(this.storage,this.storageKey,s)):s.user=Ho()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),qo(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new so;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),U(i)){const a={data:null,error:i};return qo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $e(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=nh(s);await bn(this.storage,this.storageKey,i)}else{const s=nh(r);await bn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $e(this.storage,this.storageKey),await $e(this.storage,this.storageKey+"-code-verifier"),await $e(this.storage,this.storageKey+"-user"),this.userStorage&&await $e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_n}ms, refresh threshold is ${Xl} ticks`),s<=Xl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await fn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?N_(t.webauthn.credential_response):j_(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:O_(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:R_(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=Bi(t);let v=null;m.aal&&(v=m.aal);let _=v;const{data:{user:x},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(_="aal2");const p=m.amr||[];return{data:{currentLevel:v,nextLevel:_,currentAuthenticationMethods:p},error:null}}catch(m){if(U(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bi(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ot})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ot});const a=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ue()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ot});const a=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ue()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ot})})}catch(t){if(U(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ot})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Bw>s)return n;const{data:i,error:a}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Bi(n);r!=null&&r.allowExpired||u_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const c=c_(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,Qw(`${o}.${l}`)))throw new tu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}}ui.nextInstanceID={};const B_=ui,z_="2.97.0";let Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";const W_={"X-Client-Info":`supabase-js-${Es}/${z_}`},V_={headers:W_},q_={schema:"public"},H_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K_={};function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function Y_(e,t){if(ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G_(e){var t=Y_(e,"string");return ci(t)=="symbol"?t:t+""}function Q_(e,t,r){return(t=G_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dh(Object(r),!0).forEach(function(n){Q_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const J_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),X_=()=>Headers,Z_=(e,t,r)=>{const n=J_(r),s=X_();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,me(me({},a),{},{headers:u}))}};function eb(e){return e.endsWith("/")?e:e+"/"}function tb(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:me(me({},l),s),auth:me(me({},u),i),realtime:me(me({},c),a),storage:{},global:me(me(me({},d),o),{},{headers:me(me({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function rb(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var nb=class extends B_{constructor(e){super(e)}},sb=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=rb(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:q_,realtime:K_,auth:me(me({},H_),{},{storageKey:a}),global:V_},l=tb(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Z_(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new W0(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Lw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new D0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nb({url:this.authUrl.href,headers:me(me({},f),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new aw(this.realtimeUrl.href,me(me({},e),{},{params:me(me({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ib=(e,t,r)=>new sb(e,t,r);function ab(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}ab()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ob="https://lqudzmjomwiqzhssiixy.supabase.co",lb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxdWR6bWpvbXdpcXpoc3NpaXh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4OTM1ODQsImV4cCI6MjA4NzQ2OTU4NH0.2QtOgMfZtAp-a7wdpdkV3e53DRiDiznHrL8J99pfNb8",ne=ib(ob,lb);function na(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?na=function(t){return typeof t}:na=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(e)}var vm="clover",ub=function(t){return t===3?"v3":t},wm="https://js.stripe.com",cb="".concat(wm,"/").concat(vm,"/stripe.js"),db=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,hb=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var fb=function(t){return db.test(t)||hb.test(t)},pb=function(){for(var t=document.querySelectorAll('script[src^="'.concat(wm,'"]')),r=0;r<t.length;r++){var n=t[r];if(fb(n.src))return n}return null},hh=function(t){var r="",n=document.createElement("script");n.src="".concat(cb).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},mb=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.8.0",startTime:r})},ys=null,zi=null,Wi=null,gb=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},yb=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},vb=function(t){return ys!==null?ys:(ys=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=pb();if(!(s&&t)){if(!s)s=hh(t);else if(s&&Wi!==null&&zi!==null){var i;s.removeEventListener("load",Wi),s.removeEventListener("error",zi),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=hh(t)}}Wi=yb(r,n),zi=gb(n),s.addEventListener("load",Wi),s.addEventListener("error",zi)}catch(a){n(a);return}}),ys.catch(function(r){return ys=null,Promise.reject(r)}))},wb=function(t,r,n){if(t===null)return null;var s=r[0];if(typeof s!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(na(s)," instead."));var i=s.match(/^pk_test/),a=ub(t.version),o=vm;i&&a!==o&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.8.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,r);return mb(l,n),l},vs,_m=!1,bm=function(){return vs||(vs=vb(null).catch(function(t){return vs=null,Promise.reject(t)}),vs)};Promise.resolve().then(function(){return bm()}).catch(function(e){_m||console.warn(e)});var _b=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];_m=!0;var s=Date.now();return bm().then(function(i){return wb(i,r,s)})};const bb=_b("pk_live_sua_chave_publica_aqui");function xb({plan:e,onClose:t}){const[r,n]=S.useState(!1),[s,i]=S.useState(""),a={Bsico:"price_1T4VMp2Z04DEDmWi53MRD3c6",Profissional:"price_1T4VPw2Z04DEDmWi3HbJTZcj",Negcio:"price_1T4VQR2Z04DEDmWituc1r0Y9"},o=async()=>{n(!0),i("");try{const{data:{user:l}}=await ne.auth.getUser();if(!l){window.location.href="/signup";return}const u=await fetch("/.netlify/functions/create-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:a[e.name],customerEmail:l.email})}),c=await u.json();if(!u.ok)throw new Error(c.error||"Erro ao criar sesso de pagamento");const d=await bb,{error:f}=await d.redirectToCheckout({sessionId:c.sessionId});if(f)throw new Error(f.message)}catch(l){console.error("Erro no checkout:",l),i(l.message)}finally{n(!1)}};return y.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl max-w-md w-full border border-gray-700",children:[y.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Assinar plano ",e.name]}),y.jsx("p",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-400 mb-4",children:e.price}),y.jsxs("div",{className:"mb-6 text-gray-300 space-y-2",children:[y.jsx("p",{className:"text-sm",children:" Pagamento seguro processado pela Stripe"}),y.jsx("p",{className:"text-sm",children:" Aceitamos carto de crdito e boleto"}),y.jsx("p",{className:"text-sm",children:" Cancele quando quiser"})]}),s&&y.jsxs("p",{className:"text-red-400 text-sm mb-4 p-3 bg-red-900/20 rounded-lg",children:[" ",s]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:t,disabled:r,className:"flex-1 bg-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-600 transition disabled:opacity-50",children:"Cancelar"}),y.jsx("button",{onClick:o,disabled:r,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 py-3 rounded-lg font-semibold hover:scale-105 transition disabled:opacity-50",children:r?"Processando...":"Assinar"})]})]})})}function kb({plan:e,disabled:t}){const[r,n]=S.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"backdrop-blur-lg bg-white/5 p-8 rounded-3xl border border-white/10 hover:border-blue-500/50 transition group",children:[y.jsx("h3",{className:"text-2xl font-bold mb-2",children:e.name}),y.jsxs("p",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 mb-4",children:[e.price,y.jsx("span",{className:"text-sm text-gray-400",children:"/ms"})]}),y.jsx("ul",{className:"mb-6 space-y-3",children:e.features.map((s,i)=>y.jsxs("li",{className:"flex items-center text-gray-300",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s]},i))}),y.jsx("button",{onClick:()=>n(!0),disabled:t,className:"w-full py-3 bg-white/10 rounded-xl font-semibold border border-white/20 hover:bg-blue-600 hover:border-blue-600 transition disabled:opacity-50",children:"Assinar"})]}),r&&y.jsx(xb,{plan:e,onClose:()=>n(!1)})]})}function Sb({title:e,titleId:t,...r},n){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const xm=S.forwardRef(Sb);function Eb({title:e,titleId:t,...r},n){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Tb=S.forwardRef(Eb);function Pb({title:e,titleId:t,...r},n){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Cb=S.forwardRef(Pb);function Ob({title:e,titleId:t,...r},n){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const fh=S.forwardRef(Ob);function Rb({title:e,titleId:t,...r},n){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const km=S.forwardRef(Rb);function Nb(){const e=ss(),[t,r]=S.useState(!1),n=[{name:"Bsico",price:"R$ 29",features:["1 profissional","Agendamentos ilimitados","Link personalizado"]},{name:"Profissional",price:"R$ 59",features:["3 profissionais","Relatrios","Integrao WhatsApp"]},{name:"Negcio",price:"R$ 99",features:["10 profissionais","API","Suporte prioritrio"]}],s=i=>{r(!0),setTimeout(()=>{alert(`Assinatura do plano ${i} realizada com sucesso! (simulao)`),r(!1),e("/signup")},2e3)};return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:[y.jsxs("div",{className:"container mx-auto px-4 pt-20 pb-16 text-center",children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:["AgendaPro ",y.jsx(fh,{className:"inline w-10 h-10 text-yellow-400"})]}),y.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto",children:["O sistema de agendamento mais avanado para profissionais. ",y.jsx("br",{}),"Gerencie sua agenda com estilo e eficincia."]}),y.jsx("button",{onClick:()=>e("/signup"),className:"mt-8 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full text-lg font-semibold hover:scale-105 transition transform shadow-lg shadow-blue-500/50",children:"Comear grtis"})]}),y.jsxs("div",{className:"container mx-auto px-4 py-16 grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"backdrop-blur-lg bg-white/10 p-6 rounded-2xl border border-white/20 shadow-xl",children:[y.jsx(xm,{className:"w-12 h-12 text-blue-400 mb-4"}),y.jsx("h3",{className:"text-xl font-bold mb-2",children:"Agendamento inteligente"}),y.jsx("p",{className:"text-gray-300",children:"Clientes marcam horrios em tempo real, sem conflitos."})]}),y.jsxs("div",{className:"backdrop-blur-lg bg-white/10 p-6 rounded-2xl border border-white/20 shadow-xl",children:[y.jsx(km,{className:"w-12 h-12 text-purple-400 mb-4"}),y.jsx("h3",{className:"text-xl font-bold mb-2",children:"Gesto de clientes"}),y.jsx("p",{className:"text-gray-300",children:"Histrico completo e notificaes automticas."})]}),y.jsxs("div",{className:"backdrop-blur-lg bg-white/10 p-6 rounded-2xl border border-white/20 shadow-xl",children:[y.jsx(fh,{className:"w-12 h-12 text-yellow-400 mb-4"}),y.jsx("h3",{className:"text-xl font-bold mb-2",children:"Link personalizado"}),y.jsx("p",{className:"text-gray-300",children:"Compartilhe seu link exclusivo e receba agendamentos."})]})]}),y.jsxs("div",{className:"container mx-auto px-4 py-16",children:[y.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Escolha seu plano"}),y.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:n.map(i=>y.jsx(kb,{plan:i,onSubscribe:()=>s(i.name),disabled:t},i.name))})]})]})}function jb(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(""),[a,o]=S.useState(!1),l=ss(),u=async c=>{c.preventDefault(),o(!0);const{error:d}=await ne.auth.signInWithPassword({email:e,password:r});d?i(d.message):l("/dashboard"),o(!1)};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center py-12 px-4",children:y.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-lg p-8 rounded-3xl border border-white/10",children:[y.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:"Acessar Painel"}),s&&y.jsx("p",{className:"text-red-400 text-sm mb-4",children:s}),y.jsxs("form",{onSubmit:u,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"E-mail"}),y.jsx("input",{type:"email",value:e,onChange:c=>t(c.target.value),required:!0,className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Senha"}),y.jsx("input",{type:"password",value:r,onChange:c=>n(c.target.value),required:!0,className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500"})]}),y.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold disabled:opacity-50 hover:scale-105 transition",children:a?"Entrando...":"Entrar"})]}),y.jsxs("p",{className:"text-center mt-4 text-sm text-gray-400",children:["No tem uma conta? ",y.jsx(qt,{to:"/signup",className:"text-blue-400",children:"Cadastre-se"})]})]})})}function Ab(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(""),[a,o]=S.useState(!1),l=ss(),u=async c=>{c.preventDefault(),o(!0);const{error:d}=await ne.auth.signInWithPassword({email:e,password:r});d?i(d.message):l("/dashboard"),o(!1)};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center py-12 px-4",children:y.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-lg p-8 rounded-3xl border border-white/10",children:[y.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:"Acessar Painel"}),s&&y.jsx("p",{className:"text-red-400 text-sm mb-4",children:s}),y.jsxs("form",{onSubmit:u,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"E-mail"}),y.jsx("input",{type:"email",value:e,onChange:c=>t(c.target.value),required:!0,className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Senha"}),y.jsx("input",{type:"password",value:r,onChange:c=>n(c.target.value),required:!0,className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500"})]}),y.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold disabled:opacity-50 hover:scale-105 transition",children:a?"Entrando...":"Entrar"})]}),y.jsxs("p",{className:"text-center mt-4 text-sm text-gray-400",children:["No tem uma conta? ",y.jsx(qt,{to:"/signup",className:"text-blue-400",children:"Cadastre-se"})]})]})})}const Ib=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],Db={monday:"Segunda",tuesday:"Tera",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sbado",sunday:"Domingo"};function Lb({profile:e,updateProfile:t}){const[r,n]=S.useState((e==null?void 0:e.working_hours)||{}),s=(o,l)=>{n(u=>{var c,d;return{...u,[o]:{...u[o]||{},enabled:l,start:((c=u[o])==null?void 0:c.start)||"09:00",end:((d=u[o])==null?void 0:d.end)||"18:00"}}})},i=(o,l,u)=>{n(c=>({...c,[o]:{...c[o]||{enabled:!1},[l]:u}}))},a=()=>{t({working_hours:r}),alert("Horrios salvos!")};return y.jsxs("div",{className:"bg-white/5 backdrop-blur-lg p-6 rounded-2xl border border-white/10",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Configurar Horrios de Funcionamento"}),Ib.map(o=>{const l=r[o]||{enabled:!1,start:"09:00",end:"18:00"};return y.jsxs("div",{className:"mb-4 pb-2 border-b border-white/10",children:[y.jsx("h3",{className:"font-medium mb-2 text-gray-200",children:Db[o]}),y.jsxs("div",{className:"flex items-center space-x-2 flex-wrap gap-2",children:[y.jsxs("label",{className:"flex items-center text-gray-300",children:[y.jsx("input",{type:"checkbox",checked:l.enabled||!1,onChange:u=>s(o,u.target.checked),className:"mr-2 accent-blue-500 bg-gray-800 border-gray-600"}),"Aberto"]}),l.enabled&&y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"time",value:l.start||"09:00",onChange:u=>i(o,"start",u.target.value),className:"bg-gray-800 border border-gray-700 text-white p-1 rounded-lg focus:ring-2 focus:ring-blue-500"}),y.jsx("span",{className:"text-gray-400",children:"at"}),y.jsx("input",{type:"time",value:l.end||"18:00",onChange:u=>i(o,"end",u.target.value),className:"bg-gray-800 border border-gray-700 text-white p-1 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]},o)}),y.jsx("button",{onClick:a,className:"mt-4 px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg text-white font-semibold hover:scale-105 transition",children:"Salvar Horrios"})]})}function je(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ye(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function io(e,t){const r=je(e);return isNaN(t)?ye(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function $b(e,t){const r=+je(e);return ye(e,r+t)}const Sm=6048e5,Ub=864e5,ao=6e4,oc=36e5,Mb=1e3;let Fb={};function as(){return Fb}function ir(e,t){var o,l,u,c;const r=as(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=je(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Jn(e){return ir(e,{weekStartsOn:1})}function Em(e){const t=je(e),r=t.getFullYear(),n=ye(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Jn(n),i=ye(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Jn(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function ja(e){const t=je(e);return t.setHours(0,0,0,0),t}function Aa(e){const t=je(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Bb(e,t){const r=ja(e),n=ja(t),s=+r-Aa(r),i=+n-Aa(n);return Math.round((s-i)/Ub)}function zb(e){const t=Em(e),r=ye(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Jn(r)}function Wb(e,t){return $b(e,t*ao)}function ph(e,t){const r=ja(e),n=ja(t);return+r==+n}function Vb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qb(e){if(!Vb(e)&&typeof e!="number")return!1;const t=je(e);return!isNaN(Number(t))}function Hb(e){const t=je(e),r=ye(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Kb={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yb=(e,t,r)=>{let n;const s=Kb[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Wn(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Gb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xb={date:Wn({formats:Gb,defaultWidth:"full"}),time:Wn({formats:Qb,defaultWidth:"full"}),dateTime:Wn({formats:Jb,defaultWidth:"full"})},Zb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},e1=(e,t,r,n)=>Zb[e];function Bt(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const t1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},r1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},i1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},o1=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},l1={ordinalNumber:o1,era:Bt({values:t1,defaultWidth:"wide"}),quarter:Bt({values:r1,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bt({values:n1,defaultWidth:"wide"}),day:Bt({values:s1,defaultWidth:"wide"}),dayPeriod:Bt({values:i1,defaultWidth:"wide",formattingValues:a1,defaultFormattingWidth:"wide"})};function zt(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?c1(o,d=>d.test(a)):u1(o,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function u1(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function c1(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Tm(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const d1=/^(\d+)(th|st|nd|rd)?/i,h1=/\d+/i,f1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p1={any:[/^b/i,/^(a|c)/i]},m1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g1={any:[/1/i,/2/i,/3/i,/4/i]},y1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},v1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},w1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},b1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},k1={ordinalNumber:Tm({matchPattern:d1,parsePattern:h1,valueCallback:e=>parseInt(e,10)}),era:zt({matchPatterns:f1,defaultMatchWidth:"wide",parsePatterns:p1,defaultParseWidth:"any"}),quarter:zt({matchPatterns:m1,defaultMatchWidth:"wide",parsePatterns:g1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zt({matchPatterns:y1,defaultMatchWidth:"wide",parsePatterns:v1,defaultParseWidth:"any"}),day:zt({matchPatterns:w1,defaultMatchWidth:"wide",parsePatterns:_1,defaultParseWidth:"any"}),dayPeriod:zt({matchPatterns:b1,defaultMatchWidth:"any",parsePatterns:x1,defaultParseWidth:"any"})},Pm={code:"en-US",formatDistance:Yb,formatLong:Xb,formatRelative:e1,localize:l1,match:k1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S1(e){const t=je(e);return Bb(t,Hb(t))+1}function Cm(e){const t=je(e),r=+Jn(t)-+zb(t);return Math.round(r/Sm)+1}function lc(e,t){var c,d,f,m;const r=je(e),n=r.getFullYear(),s=as(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=ye(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=ir(a,t),l=ye(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=ir(l,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function E1(e,t){var o,l,u,c;const r=as(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=lc(e,t),i=ye(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),ir(i,t)}function Om(e,t){const r=je(e),n=+ir(r,t)-+E1(r,t);return Math.round(n/Sm)+1}function Z(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const dr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Z(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Z(r+1,2)},d(e,t){return Z(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Z(e.getHours()%12||12,t.length)},H(e,t){return Z(e.getHours(),t.length)},m(e,t){return Z(e.getMinutes(),t.length)},s(e,t){return Z(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Z(s,t.length)}},yn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mh={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return dr.y(e,t)},Y:function(e,t,r,n){const s=lc(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Z(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Z(i,t.length)},R:function(e,t){const r=Em(e);return Z(r,t.length)},u:function(e,t){const r=e.getFullYear();return Z(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Z(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Z(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return dr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Z(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Om(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Z(s,t.length)},I:function(e,t,r){const n=Cm(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Z(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):dr.d(e,t)},D:function(e,t,r){const n=S1(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Z(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Z(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Z(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Z(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=yn.noon:n===0?s=yn.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=yn.evening:n>=12?s=yn.afternoon:n>=4?s=yn.morning:s=yn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return dr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):dr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):dr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):dr.s(e,t)},S:function(e,t){return dr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return yh(n);case"XXXX":case"XX":return Vr(n);case"XXXXX":case"XXX":default:return Vr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return yh(n);case"xxxx":case"xx":return Vr(n);case"xxxxx":case"xxx":default:return Vr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gh(n,":");case"OOOO":default:return"GMT"+Vr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gh(n,":");case"zzzz":default:return"GMT"+Vr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Z(n,t.length)},T:function(e,t,r){const n=e.getTime();return Z(n,t.length)}};function gh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Z(i,2)}function yh(e,t){return e%60===0?(e>0?"-":"+")+Z(Math.abs(e)/60,2):Vr(e,t)}function Vr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Z(Math.trunc(n/60),2),i=Z(n%60,2);return r+s+t+i}const vh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Rm=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},T1=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return vh(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",vh(n,t)).replace("{{time}}",Rm(s,t))},ru={p:Rm,P:T1},P1=/^D+$/,C1=/^Y+$/,O1=["D","DD","YY","YYYY"];function Nm(e){return P1.test(e)}function jm(e){return C1.test(e)}function nu(e,t,r){const n=R1(e,t,r);if(console.warn(n),O1.includes(e))throw new RangeError(n)}function R1(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const N1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A1=/^'([^]*?)'?$/,I1=/''/g,D1=/[a-zA-Z]/;function Nr(e,t,r){var c,d,f,m,v,_,x,g;const n=as(),s=(r==null?void 0:r.locale)??n.locale??Pm,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((_=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,o=je(e);if(!qb(o))throw new RangeError("Invalid time value");let l=t.match(j1).map(h=>{const p=h[0];if(p==="p"||p==="P"){const b=ru[p];return b(h,s.formatLong)}return h}).join("").match(N1).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:L1(h)};if(mh[p])return{isToken:!0,value:h};if(p.match(D1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(h=>{if(!h.isToken)return h.value;const p=h.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&jm(p)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Nm(p))&&nu(p,t,String(e));const b=mh[p[0]];return b(o,p,s.localize,u)}).join("")}function L1(e){const t=e.match(A1);return t?t[1].replace(I1,"'"):e}function $1(){return Object.assign({},as())}function U1(e){let r=je(e).getDay();return r===0&&(r=7),r}function M1(e,t){const r=t instanceof Date?ye(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const F1=10;class Am{constructor(){D(this,"subPriority",0)}validate(t,r){return!0}}class B1 extends Am{constructor(t,r,n,s,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class z1 extends Am{constructor(){super(...arguments);D(this,"priority",F1);D(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:ye(r,M1(r,Date))}}class Q{run(t,r,n,s){const i=this.parse(t,r,n,s);return i?{setter:new B1(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class W1 extends Q{constructor(){super(...arguments);D(this,"priority",140);D(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const be={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xe(e,t){return e&&{value:t(e.value),rest:e.rest}}function de(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Vt(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:n*(s*oc+i*ao+a*Mb),rest:t.slice(r[0].length)}}function Im(e){return de(be.anyDigitsSigned,e)}function ve(e,t){switch(e){case 1:return de(be.singleDigit,t);case 2:return de(be.twoDigits,t);case 3:return de(be.threeDigits,t);case 4:return de(be.fourDigits,t);default:return de(new RegExp("^\\d{1,"+e+"}"),t)}}function Ia(e,t){switch(e){case 1:return de(be.singleDigitSigned,t);case 2:return de(be.twoDigitsSigned,t);case 3:return de(be.threeDigitsSigned,t);case 4:return de(be.fourDigitsSigned,t);default:return de(new RegExp("^-?\\d{1,"+e+"}"),t)}}function uc(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Dm(e,t){const r=t>0,n=r?t:1-t;let s;if(n<=50)s=e||100;else{const i=n+50,a=Math.trunc(i/100)*100,o=e>=i%100;s=e+a-(o?100:0)}return r?s:1-s}function Lm(e){return e%400===0||e%4===0&&e%100!==0}class V1 extends Q{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return xe(ve(4,r),i);case"yo":return xe(s.ordinalNumber(r,{unit:"year"}),i);default:return xe(ve(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const o=Dm(s.year,i);return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}const a=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class q1 extends Q{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return xe(ve(4,r),i);case"Yo":return xe(s.ordinalNumber(r,{unit:"year"}),i);default:return xe(ve(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const a=lc(r,i);if(s.isTwoDigitYear){const l=Dm(s.year,a);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ir(r,i)}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ir(r,i)}}class H1 extends Q{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Ia(n==="R"?4:n.length,r)}set(r,n,s){const i=ye(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Jn(i)}}class K1 extends Q{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Ia(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class Y1 extends Q{constructor(){super(...arguments);D(this,"priority",120);D(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return ve(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class G1 extends Q{constructor(){super(...arguments);D(this,"priority",120);D(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return ve(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class Q1 extends Q{constructor(){super(...arguments);D(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);D(this,"priority",110)}parse(r,n,s){const i=a=>a-1;switch(n){case"M":return xe(de(be.month,r),i);case"MM":return xe(ve(2,r),i);case"Mo":return xe(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class J1 extends Q{constructor(){super(...arguments);D(this,"priority",110);D(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=a=>a-1;switch(n){case"L":return xe(de(be.month,r),i);case"LL":return xe(ve(2,r),i);case"Lo":return xe(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function X1(e,t,r){const n=je(e),s=Om(n,r)-t;return n.setDate(n.getDate()-s*7),n}class Z1 extends Q{constructor(){super(...arguments);D(this,"priority",100);D(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return de(be.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return ve(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return ir(X1(r,s,i),i)}}function ex(e,t){const r=je(e),n=Cm(r)-t;return r.setDate(r.getDate()-n*7),r}class tx extends Q{constructor(){super(...arguments);D(this,"priority",100);D(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return de(be.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return ve(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return Jn(ex(r,s))}}const rx=[31,28,31,30,31,30,31,31,30,31,30,31],nx=[31,29,31,30,31,30,31,31,30,31,30,31];class sx extends Q{constructor(){super(...arguments);D(this,"priority",90);D(this,"subPriority",1);D(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return de(be.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return ve(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=Lm(s),a=r.getMonth();return i?n>=1&&n<=nx[a]:n>=1&&n<=rx[a]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class ix extends Q{constructor(){super(...arguments);D(this,"priority",90);D(this,"subpriority",1);D(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return de(be.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return ve(n.length,r)}}validate(r,n){const s=r.getFullYear();return Lm(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function cc(e,t,r){var d,f,m,v;const n=as(),s=(r==null?void 0:r.weekStartsOn)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((v=(m=n.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,i=je(e),a=i.getDay(),l=(t%7+7)%7,u=7-s,c=t<0||t>6?t-(a+u)%7:(l+u)%7-(a+u)%7;return io(i,c)}class ax extends Q{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=cc(r,s,i),r.setHours(0,0,0,0),r}}class ox extends Q{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return xe(ve(n.length,r),a);case"eo":return xe(s.ordinalNumber(r,{unit:"day"}),a);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=cc(r,s,i),r.setHours(0,0,0,0),r}}class lx extends Q{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return xe(ve(n.length,r),a);case"co":return xe(s.ordinalNumber(r,{unit:"day"}),a);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=cc(r,s,i),r.setHours(0,0,0,0),r}}function ux(e,t){const r=je(e),n=U1(r),s=t-n;return io(r,s)}class cx extends Q{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=a=>a===0?7:a;switch(n){case"i":case"ii":return ve(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return xe(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return xe(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return xe(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return xe(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=ux(r,s),r.setHours(0,0,0,0),r}}class dx extends Q{constructor(){super(...arguments);D(this,"priority",80);D(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(uc(s),0,0,0),r}}class hx extends Q{constructor(){super(...arguments);D(this,"priority",80);D(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(uc(s),0,0,0),r}}class fx extends Q{constructor(){super(...arguments);D(this,"priority",80);D(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(uc(s),0,0,0),r}}class px extends Q{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return de(be.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return ve(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class mx extends Q{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return de(be.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return ve(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class gx extends Q{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return de(be.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return ve(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class yx extends Q{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return de(be.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return ve(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}class vx extends Q{constructor(){super(...arguments);D(this,"priority",60);D(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return de(be.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return ve(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class wx extends Q{constructor(){super(...arguments);D(this,"priority",50);D(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return de(be.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return ve(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class _x extends Q{constructor(){super(...arguments);D(this,"priority",30);D(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return xe(ve(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class bx extends Q{constructor(){super(...arguments);D(this,"priority",10);D(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Vt(Wt.basicOptionalMinutes,r);case"XX":return Vt(Wt.basic,r);case"XXXX":return Vt(Wt.basicOptionalSeconds,r);case"XXXXX":return Vt(Wt.extendedOptionalSeconds,r);case"XXX":default:return Vt(Wt.extended,r)}}set(r,n,s){return n.timestampIsSet?r:ye(r,r.getTime()-Aa(r)-s)}}class xx extends Q{constructor(){super(...arguments);D(this,"priority",10);D(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Vt(Wt.basicOptionalMinutes,r);case"xx":return Vt(Wt.basic,r);case"xxxx":return Vt(Wt.basicOptionalSeconds,r);case"xxxxx":return Vt(Wt.extendedOptionalSeconds,r);case"xxx":default:return Vt(Wt.extended,r)}}set(r,n,s){return n.timestampIsSet?r:ye(r,r.getTime()-Aa(r)-s)}}class kx extends Q{constructor(){super(...arguments);D(this,"priority",40);D(this,"incompatibleTokens","*")}parse(r){return Im(r)}set(r,n,s){return[ye(r,s*1e3),{timestampIsSet:!0}]}}class Sx extends Q{constructor(){super(...arguments);D(this,"priority",20);D(this,"incompatibleTokens","*")}parse(r){return Im(r)}set(r,n,s){return[ye(r,s),{timestampIsSet:!0}]}}const Ex={G:new W1,y:new V1,Y:new q1,R:new H1,u:new K1,Q:new Y1,q:new G1,M:new Q1,L:new J1,w:new Z1,I:new tx,d:new sx,D:new ix,E:new ax,e:new ox,c:new lx,i:new cx,a:new dx,b:new hx,B:new fx,h:new px,H:new mx,K:new gx,k:new yx,m:new vx,s:new wx,S:new _x,X:new bx,x:new xx,t:new kx,T:new Sx},Tx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Px=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cx=/^'([^]*?)'?$/,Ox=/''/g,Rx=/\S/,Nx=/[a-zA-Z]/;function wh(e,t,r,n){var _,x,g,h;const s=$1(),i=s.locale??Pm,a=s.firstWeekContainsDate??((x=(_=s.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,o=s.weekStartsOn??((h=(g=s.locale)==null?void 0:g.options)==null?void 0:h.weekStartsOn)??0,l={firstWeekContainsDate:a,weekStartsOn:o,locale:i},u=[new z1],c=t.match(Px).map(p=>{const b=p[0];if(b in ru){const T=ru[b];return T(p,i.formatLong)}return p}).join("").match(Tx),d=[];for(let p of c){jm(p)&&nu(p,t,e),Nm(p)&&nu(p,t,e);const b=p[0],T=Ex[b];if(T){const{incompatibleTokens:P}=T;if(Array.isArray(P)){const j=d.find(H=>P.includes(H.token)||H.token===b);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${p}\` at the same time`)}else if(T.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${p}\` and any other token at the same time`);d.push({token:b,fullToken:p});const O=T.run(e,p,i.match,l);if(!O)return ye(r,NaN);u.push(O.setter),e=O.rest}else{if(b.match(Nx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(p==="''"?p="'":b==="'"&&(p=jx(p)),e.indexOf(p)===0)e=e.slice(p.length);else return ye(r,NaN)}}if(e.length>0&&Rx.test(e))return ye(r,NaN);const f=u.map(p=>p.priority).sort((p,b)=>b-p).filter((p,b,T)=>T.indexOf(p)===b).map(p=>u.filter(b=>b.priority===p).sort((b,T)=>T.subPriority-b.subPriority)).map(p=>p[0]);let m=je(r);if(isNaN(m.getTime()))return ye(r,NaN);const v={};for(const p of f){if(!p.validate(m,l))return ye(r,NaN);const b=p.set(m,v,l);Array.isArray(b)?(m=b[0],Object.assign(v,b[1])):m=b}return ye(r,m)}function jx(e){return e.match(Cx)[1].replace(Ox,"'")}function _h(e,t){const n=Lx(e);let s;if(n.date){const l=$x(n.date,2);s=Ux(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(n.time&&(a=Mx(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=Fx(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+a+o)}const Vi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ax=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ix=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Lx(e){const t={},r=e.split(Vi.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Vi.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Vi.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Vi.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function $x(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Ux(e,t){if(t===null)return new Date(NaN);const r=e.match(Ax);if(!r)return new Date(NaN);const n=!!r[4],s=ws(r[1]),i=ws(r[2])-1,a=ws(r[3]),o=ws(r[4]),l=ws(r[5])-1;if(n)return qx(t,o,l)?Bx(t,o,l):new Date(NaN);{const u=new Date(0);return!Wx(t,i,a)||!Vx(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,a)),u)}}function ws(e){return e?parseInt(e):1}function Mx(e){const t=e.match(Ix);if(!t)return NaN;const r=Yo(t[1]),n=Yo(t[2]),s=Yo(t[3]);return Hx(r,n,s)?r*oc+n*ao+s*1e3:NaN}function Yo(e){return e&&parseFloat(e.replace(",","."))||0}function Fx(e){if(e==="Z")return 0;const t=e.match(Dx);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Kx(n,s)?r*(n*oc+s*ao):NaN}function Bx(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const zx=[31,null,31,30,31,30,31,31,30,31,30,31];function $m(e){return e%400===0||e%4===0&&e%100!==0}function Wx(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(zx[t]||($m(e)?29:28))}function Vx(e,t){return t>=1&&t<=($m(e)?366:365)}function qx(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Hx(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Kx(e,t){return t>=0&&t<=59}const Yx={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Gx=(e,t,r)=>{let n;const s=Yx[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},Qx={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Jx={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Xx={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zx={date:Wn({formats:Qx,defaultWidth:"full"}),time:Wn({formats:Jx,defaultWidth:"full"}),dateTime:Wn({formats:Xx,defaultWidth:"full"})},ek={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},tk=(e,t,r,n)=>{const s=ek[e];return typeof s=="function"?s(t):s},rk={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},nk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},sk={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},ik={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},ak={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ok={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},lk=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},uk={ordinalNumber:lk,era:Bt({values:rk,defaultWidth:"wide"}),quarter:Bt({values:nk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bt({values:sk,defaultWidth:"wide"}),day:Bt({values:ik,defaultWidth:"wide"}),dayPeriod:Bt({values:ak,defaultWidth:"wide",formattingValues:ok,defaultFormattingWidth:"wide"})},ck=/^(\d+)[o]?/i,dk=/\d+/i,hk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},fk={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},pk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},mk={any:[/1/i,/2/i,/3/i,/4/i]},gk={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},yk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},vk={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},wk={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},_k={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},bk={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},xk={ordinalNumber:Tm({matchPattern:ck,parsePattern:dk,valueCallback:e=>parseInt(e,10)}),era:zt({matchPatterns:hk,defaultMatchWidth:"wide",parsePatterns:fk,defaultParseWidth:"any"}),quarter:zt({matchPatterns:pk,defaultMatchWidth:"wide",parsePatterns:mk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zt({matchPatterns:gk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),day:zt({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:wk,defaultParseWidth:"any"}),dayPeriod:zt({matchPatterns:_k,defaultMatchWidth:"any",parsePatterns:bk,defaultParseWidth:"any"})},Da={code:"pt-BR",formatDistance:Gx,formatLong:Zx,formatRelative:tk,localize:uk,match:xk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kk(){const[e,t]=S.useState([]),[r,n]=S.useState(new Date),[s,i]=S.useState(new Date);S.useEffect(()=>{a()},[]);async function a(){const{data:{user:u}}=await ne.auth.getUser(),{data:c}=await ne.from("appointments").select("*, services(name)").eq("user_id",u.id).order("date",{ascending:!0});t(c||[])}const o=[...Array(7)].map((u,c)=>io(ir(r,{weekStartsOn:1}),c)),l=e.filter(u=>ph(new Date(u.date),s));return y.jsxs("div",{className:"bg-white/5 backdrop-blur-lg p-6 rounded-2xl border border-white/10",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-xl font-semibold text-white",children:"Agenda da Semana"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{className:"px-3 py-1 bg-gray-800 rounded-lg text-gray-300 hover:bg-gray-700",children:"Semana"}),y.jsx("button",{className:"px-3 py-1 bg-gray-800 rounded-lg text-gray-300 hover:bg-gray-700",children:"Dia"})]})]}),y.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-sm mb-2",children:o.map(u=>y.jsxs("div",{className:"font-medium text-gray-300",children:[Nr(u,"EEE",{locale:Da}),y.jsx("div",{className:`text-lg mt-1 cursor-pointer w-8 h-8 mx-auto flex items-center justify-center rounded-full ${ph(u,s)?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-700"}`,onClick:()=>i(u),children:Nr(u,"d")})]},u.toString()))}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("h3",{className:"font-medium mb-2 text-gray-200",children:["Agendamentos de ",Nr(s,"dd 'de' MMMM",{locale:Da})]}),l.length===0?y.jsx("p",{className:"text-gray-400 text-center py-4",children:"Nenhum agendamento para este dia."}):l.map(u=>{var c;return y.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-900/30 p-3 mb-2 rounded",children:[y.jsx("p",{className:"font-medium text-white",children:u.client_name}),y.jsxs("p",{className:"text-sm text-gray-300",children:[u.time,"  ",(c=u.services)==null?void 0:c.name]})]},u.id)})]})]})}function Sk(){const[e,t]=S.useState([]),[r,n]=S.useState(!0);S.useEffect(()=>{s()},[]);async function s(){n(!0);const{data:{user:i}}=await ne.auth.getUser(),{data:a,error:o}=await ne.from("appointments").select("client_name, client_email, client_phone, created_at").eq("user_id",i.id).order("created_at",{ascending:!1});if(o)console.error("Erro ao buscar clientes:",o);else{const l=(a==null?void 0:a.filter((u,c,d)=>d.findIndex(f=>f.client_name===u.client_name)===c))||[];t(l)}n(!1)}return r?y.jsx("div",{className:"text-center p-4 text-gray-300",children:"Carregando..."}):y.jsxs("div",{className:"bg-white/5 backdrop-blur-lg p-6 rounded-2xl border border-white/10",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Clientes"}),y.jsxs("div",{className:"space-y-2",children:[e.map((i,a)=>y.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg border border-gray-700",children:[y.jsx("p",{className:"font-medium text-white",children:i.client_name}),y.jsx("p",{className:"text-sm text-gray-400",children:i.client_email}),y.jsx("p",{className:"text-sm text-gray-400",children:i.client_phone})]},a)),e.length===0&&y.jsx("p",{className:"text-gray-400 text-center py-4",children:"Nenhum cliente ainda."})]})]})}function Ek({slug:e,onUpdate:t}){const[r,n]=S.useState(""),[s,i]=S.useState(!1),a=window.location.origin,o=async()=>{var f;if(!r)return;i(!0);const{data:{user:l}}=await ne.auth.getUser();if(!l){alert("Usurio no autenticado. Faa login novamente."),i(!1);return}const{data:u,error:c}=await ne.from("profiles").select("id").eq("id",l.id).single();if(c&&c.code==="PGRST116"){const{error:m}=await ne.from("profiles").insert({id:l.id,store_name:((f=l.user_metadata)==null?void 0:f.store_name)||"Minha Loja"});if(m){alert("Erro ao criar perfil: "+m.message),i(!1);return}}const{error:d}=await ne.from("profiles").update({unique_slug:r}).eq("id",l.id);d?(console.error("Erro ao atualizar slug:",d),alert("Erro: "+d.message)):(alert("Link personalizado atualizado!"),t&&t(r),n("")),i(!1)};return y.jsxs("div",{className:"backdrop-blur-lg bg-white/5 p-6 rounded-2xl border border-white/10",children:[y.jsx("h3",{className:"font-semibold mb-2 text-white",children:"Seu link de agendamento"}),e?y.jsx("div",{className:"mb-2",children:y.jsxs("a",{href:`${a}/${e}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline break-all",children:[a,"/",e]})}):y.jsx("p",{className:"text-yellow-400 mb-2",children:"Voc ainda no definiu um link personalizado."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsx("input",{type:"text",placeholder:"ex: meusalao",value:r,onChange:l=>n(l.target.value.toLowerCase().replace(/\s+/g,"-")),className:"flex-1 p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),y.jsx("button",{onClick:o,disabled:s,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 rounded-lg disabled:opacity-50 hover:scale-105 transition",children:e?"Alterar":"Definir"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Apenas letras, nmeros e hfens."})]})}function Tk(){const[e,t]=S.useState(null),[r,n]=S.useState(!0),s=ns();S.useEffect(()=>{i(),new URLSearchParams(s.search).get("success")==="true"&&(alert(" Assinatura realizada com sucesso! Seu plano j est ativo."),window.history.replaceState({},"","/dashboard"))},[s]);async function i(){const{data:{user:o}}=await ne.auth.getUser();if(o){const{data:l,error:u}=await ne.from("profiles").select("*").eq("id",o.id).single();u||t(l)}n(!1)}async function a(o){const{data:{user:l}}=await ne.auth.getUser();if(l){const{error:u}=await ne.from("profiles").update(o).eq("id",l.id);u||t({...e,...o})}}return r?y.jsx("div",{className:"text-center p-8 text-white",children:"Carregando..."}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Painel do Profissional"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[y.jsxs("div",{className:"backdrop-blur-lg bg-white/5 p-6 rounded-2xl border border-white/10",children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"WhatsApp para notificaes"}),y.jsx("input",{type:"tel",value:(e==null?void 0:e.whatsapp)||"",onChange:o=>a({whatsapp:o.target.value}),placeholder:"(11) 99999-9999",className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),y.jsx(Ek,{slug:e==null?void 0:e.unique_slug,onUpdate:o=>t({...e,unique_slug:o})})]}),y.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-white/10 pb-2 overflow-x-auto",children:[y.jsxs(qt,{to:"/dashboard",className:"flex items-center space-x-1 px-3 py-2 hover:text-blue-400 transition",children:[y.jsx(xm,{className:"w-5 h-5"}),y.jsx("span",{children:"Agenda"})]}),y.jsxs(qt,{to:"/dashboard/config",className:"flex items-center space-x-1 px-3 py-2 hover:text-blue-400 transition",children:[y.jsx(Tb,{className:"w-5 h-5"}),y.jsx("span",{children:"Horrios"})]}),y.jsxs(qt,{to:"/dashboard/services",className:"flex items-center space-x-1 px-3 py-2 hover:text-blue-400 transition",children:[y.jsx(Cb,{className:"w-5 h-5"}),y.jsx("span",{children:"Servios"})]}),y.jsxs(qt,{to:"/dashboard/clients",className:"flex items-center space-x-1 px-3 py-2 hover:text-blue-400 transition",children:[y.jsx(km,{className:"w-5 h-5"}),y.jsx("span",{children:"Clientes"})]})]}),y.jsxs(tm,{children:[y.jsx(Ft,{path:"/",element:y.jsx(kk,{})}),y.jsx(Ft,{path:"/config",element:y.jsx(Lb,{profile:e,updateProfile:a})}),y.jsx(Ft,{path:"/services",element:y.jsx(Pk,{})}),y.jsx(Ft,{path:"/clients",element:y.jsx(Sk,{})})]})]})})}function Pk(){const[e,t]=S.useState([]),[r,n]=S.useState({name:"",duration:30,price:""});S.useEffect(()=>{s()},[]);async function s(){const{data:{user:a}}=await ne.auth.getUser(),{data:o}=await ne.from("services").select("*").eq("user_id",a.id);t(o||[])}async function i(){const{data:{user:a}}=await ne.auth.getUser(),{error:o}=await ne.from("services").insert([{...r,user_id:a.id}]);o||(s(),n({name:"",duration:30,price:""}))}return y.jsxs("div",{className:"backdrop-blur-lg bg-white/5 p-6 rounded-2xl border border-white/10",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Servios Oferecidos"}),y.jsx("div",{className:"space-y-2 mb-4",children:e.map(a=>y.jsxs("div",{className:"flex justify-between p-3 bg-gray-800/50 rounded-lg",children:[y.jsxs("span",{children:[a.name," (",a.duration," min)"]}),y.jsxs("span",{className:"text-blue-400",children:["R$ ",a.price]})]},a.id))}),y.jsxs("div",{className:"border-t border-white/10 pt-4",children:[y.jsx("h3",{className:"font-medium mb-2",children:"Adicionar Servio"}),y.jsx("input",{type:"text",placeholder:"Nome do servio",value:r.name,onChange:a=>n({...r,name:a.target.value}),className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg mb-2"}),y.jsxs("div",{className:"flex space-x-2 mb-2",children:[y.jsx("input",{type:"number",placeholder:"Durao (min)",value:r.duration,onChange:a=>n({...r,duration:parseInt(a.target.value)}),className:"w-1/2 p-3 bg-gray-800 border border-gray-700 rounded-lg"}),y.jsx("input",{type:"number",placeholder:"Preo",value:r.price,onChange:a=>n({...r,price:a.target.value}),className:"w-1/2 p-3 bg-gray-800 border border-gray-700 rounded-lg"})]}),y.jsx("button",{onClick:i,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg",children:"Adicionar"})]})]})}function Ck({services:e,onSelect:t}){return y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold mb-4 text-white",children:"Escolha o servio"}),y.jsx("div",{className:"space-y-2",children:e.map(r=>y.jsxs("button",{onClick:()=>t(r),className:"w-full text-left p-4 bg-gray-800/50 border border-gray-700 rounded-xl hover:border-blue-500 transition group",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"font-medium text-white group-hover:text-blue-400",children:r.name}),y.jsxs("span",{className:"text-blue-400",children:["R$ ",r.price]})]}),y.jsxs("p",{className:"text-sm text-gray-400",children:[r.duration," minutos"]})]},r.id))})]})}function Ok(e,t,r,n){var f;const s=Nr(t,"EEEE").toLowerCase(),i=(f=e.working_hours)==null?void 0:f[s];if(console.log("Dia da semana:",s),console.log("Config do dia:",i),!i||!i.enabled)return console.log("Dia no configurado ou fechado"),[];const a=i.start,o=i.end;if(!a||!o)return console.log("Horrios de incio/fim no definidos"),[];const l=wh(a,"HH:mm",t),u=wh(o,"HH:mm",t);if(isNaN(l)||isNaN(u))return console.log("Horrios invlidos"),[];const c=[];let d=l;for(;d<u;){const m=Nr(d,"HH:mm");n.some(_=>_.time===m)||c.push(m),d=Wb(d,r)}return console.log("Slots gerados:",c),c}function Rk({professional:e,service:t,onSelectDateTime:r,onBack:n}){const[s,i]=S.useState(null),[a,o]=S.useState(null),[l,u]=S.useState([]),[c,d]=S.useState([]),[f,m]=S.useState([]);S.useEffect(()=>{const x=new Date;x.setHours(0,0,0,0);const g=[];for(let h=0;h<14;h++){const p=io(x,h);g.push(Nr(p,"yyyy-MM-dd"))}m(g)},[]),S.useEffect(()=>{s&&v(s)},[s]);async function v(x){const{data:g}=await ne.from("appointments").select("time").eq("user_id",e.id).eq("date",x);d(g||[])}S.useEffect(()=>{if(s&&t){const x=_h(s),g=Ok(e,x,t.duration,c);u(g)}},[s,t,c]);const _=()=>{s&&a&&r(s,a)};return y.jsxs("div",{children:[y.jsx("button",{onClick:n,className:"text-blue-400 mb-4 hover:text-blue-300 transition",children:" Voltar"}),y.jsx("h2",{className:"text-lg font-semibold mb-4 text-white",children:"Escolha data e horrio"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Data"}),y.jsxs("select",{className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:s||"",onChange:x=>i(x.target.value),children:[y.jsx("option",{value:"",className:"bg-gray-800",children:"Selecione uma data"}),f.map(x=>y.jsx("option",{value:x,className:"bg-gray-800",children:Nr(_h(x),"EEEE, dd 'de' MMMM",{locale:Da})},x))]})]}),s&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Horrio"}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map(x=>y.jsx("button",{onClick:()=>o(x),className:`p-2 border rounded-lg transition ${a===x?"bg-blue-600 text-white border-blue-500":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:x},x))}),l.length===0&&y.jsx("p",{className:"text-gray-400 text-center py-4",children:"Nenhum horrio disponvel nesta data."})]}),y.jsx("button",{onClick:_,disabled:!s||!a,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 transition",children:"Continuar"})]})}var yi=e=>e.type==="checkbox",Jr=e=>e instanceof Date,tt=e=>e==null;const Um=e=>typeof e=="object";var Pe=e=>!tt(e)&&!Array.isArray(e)&&Um(e)&&!Jr(e),Nk=e=>Pe(e)&&e.target?yi(e.target)?e.target.checked:e.target.value:e,jk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ak=(e,t)=>e.has(jk(t)),Ik=e=>{const t=e.constructor&&e.constructor.prototype;return Pe(t)&&t.hasOwnProperty("isPrototypeOf")},dc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ce(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(dc&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Pe(e)&&Ik(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Ce(e[s]));return n}var oo=e=>/^\w*$/.test(e),ue=e=>e===void 0,hc=e=>Array.isArray(e)?e.filter(Boolean):[],fc=e=>hc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$=(e,t,r)=>{if(!t||!Pe(e))return r;const n=(oo(t)?[t]:fc(t)).reduce((s,i)=>tt(s)?s:s[i],e);return ue(n)||n===e?ue(e[t])?r:e[t]:n},Ut=e=>typeof e=="boolean",Ot=e=>typeof e=="function",oe=(e,t,r)=>{let n=-1;const s=oo(t)?[t]:fc(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let l=r;if(n!==a){const u=e[o];l=Pe(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const bh={BLUR:"blur",FOCUS_OUT:"focusout"},Rt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Dk=Fe.createContext(null);Dk.displayName="HookFormControlContext";var Lk=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Rt.all&&(t._proxyFormState[a]=!n||Rt.all),e[a]}});return s};const $k=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect;var ct=e=>typeof e=="string",Uk=(e,t,r,n,s)=>ct(e)?(n&&t.watch.add(e),$(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),$(r,i))):(n&&(t.watchAll=!0),r),su=e=>tt(e)||!Um(e);function vr(e,t,r=new WeakSet){if(su(e)||su(t))return Object.is(e,t);if(Jr(e)&&Jr(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Jr(a)&&Jr(o)||Pe(a)&&Pe(o)||Array.isArray(a)&&Array.isArray(o)?!vr(a,o,r):!Object.is(a,o))return!1}}return!0}const Mk=Fe.createContext(null);Mk.displayName="HookFormContext";var Fk=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},$s=e=>Array.isArray(e)?e:[e],xh=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function Mm(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Pe(s)&&i){const a=Mm(s,i);Pe(a)&&(r[n]=a)}else e[n]&&(r[n]=i)}return r}var Qe=e=>Pe(e)&&!Object.keys(e).length,pc=e=>e.type==="file",La=e=>{if(!dc)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Fm=e=>e.type==="select-multiple",mc=e=>e.type==="radio",Bk=e=>mc(e)||yi(e),Go=e=>La(e)&&e.isConnected;function zk(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ue(e)?n++:e[t[n++]];return e}function Wk(e){for(const t in e)if(e.hasOwnProperty(t)&&!ue(e[t]))return!1;return!0}function Se(e,t){const r=Array.isArray(t)?t:oo(t)?[t]:fc(t),n=r.length===1?e:zk(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Pe(n)&&Qe(n)||Array.isArray(n)&&Wk(n))&&Se(e,r.slice(0,-1)),e}var Vk=e=>{for(const t in e)if(Ot(e[t]))return!0;return!1};function Bm(e){return Array.isArray(e)||Pe(e)&&!Vk(e)}function iu(e,t={}){for(const r in e){const n=e[r];Bm(n)?(t[r]=Array.isArray(n)?[]:{},iu(n,t[r])):ue(n)||(t[r]=!0)}return t}function xn(e,t,r){r||(r=iu(t));for(const n in e){const s=e[n];if(Bm(s))ue(t)||su(r[n])?r[n]=iu(s,Array.isArray(s)?[]:{}):xn(s,tt(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!vr(s,i)}}return r}const kh={value:!1,isValid:!1},Sh={value:!0,isValid:!0};var zm=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ue(e[0].attributes.value)?ue(e[0].value)||e[0].value===""?Sh:{value:e[0].value,isValid:!0}:Sh:kh}return kh},Wm=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ue(e)?e:t?e===""?NaN:e&&+e:r&&ct(e)?new Date(e):n?n(e):e;const Eh={isValid:!1,value:null};var Vm=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Eh):Eh;function Th(e){const t=e.ref;return pc(t)?t.files:mc(t)?Vm(e.refs).value:Fm(t)?[...t.selectedOptions].map(({value:r})=>r):yi(t)?zm(e.refs).value:Wm(ue(t.value)?e.ref.value:t.value,e)}var qk=(e,t,r,n)=>{const s={};for(const i of e){const a=$(t,i);a&&oe(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},$a=e=>e instanceof RegExp,_s=e=>ue(e)?e:$a(e)?e.source:Pe(e)?$a(e.value)?e.value.source:e.value:e,Ph=e=>({isOnSubmit:!e||e===Rt.onSubmit,isOnBlur:e===Rt.onBlur,isOnChange:e===Rt.onChange,isOnAll:e===Rt.all,isOnTouch:e===Rt.onTouched});const Ch="AsyncFunction";var Hk=e=>!!e&&!!e.validate&&!!(Ot(e.validate)&&e.validate.constructor.name===Ch||Pe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ch)),Kk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Oh=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Us=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=$(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Us(o,t))break}else if(Pe(o)&&Us(o,t))break}}};function Rh(e,t,r){const n=$(e,r);if(n||oo(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=$(t,i),o=$(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var Yk=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Qe(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||Rt.all))},Gk=(e,t,r)=>!e||!t||e===t||$s(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Qk=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Jk=(e,t)=>!hc($(e,t)).length&&Se(e,t),Xk=(e,t,r)=>{const n=$s($(e,r));return oe(n,"root",t[r]),oe(e,r,n),e};function Nh(e,t,r="validate"){if(ct(e)||Array.isArray(e)&&e.every(ct)||Ut(e)&&!e)return{type:r,message:ct(e)?e:"",ref:t}}var vn=e=>Pe(e)&&!$a(e)?e:{value:e,message:""},jh=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:c,min:d,max:f,pattern:m,validate:v,name:_,valueAsNumber:x,mount:g}=e._f,h=$(r,_);if(!g||t.has(_))return{};const p=o?o[0]:a,b=q=>{s&&p.reportValidity&&(p.setCustomValidity(Ut(q)?"":q||""),p.reportValidity())},T={},P=mc(a),O=yi(a),j=P||O,H=(x||pc(a))&&ue(a.value)&&ue(h)||La(a)&&a.value===""||h===""||Array.isArray(h)&&!h.length,z=Fk.bind(null,_,n,T),We=(q,Y,pe,Ae=Yt.maxLength,Ye=Yt.minLength)=>{const Le=q?Y:pe;T[_]={type:q?Ae:Ye,message:Le,ref:a,...z(q?Ae:Ye,Le)}};if(i?!Array.isArray(h)||!h.length:l&&(!j&&(H||tt(h))||Ut(h)&&!h||O&&!zm(o).isValid||P&&!Vm(o).isValid)){const{value:q,message:Y}=ct(l)?{value:!!l,message:l}:vn(l);if(q&&(T[_]={type:Yt.required,message:Y,ref:p,...z(Yt.required,Y)},!n))return b(Y),T}if(!H&&(!tt(d)||!tt(f))){let q,Y;const pe=vn(f),Ae=vn(d);if(!tt(h)&&!isNaN(h)){const Ye=a.valueAsNumber||h&&+h;tt(pe.value)||(q=Ye>pe.value),tt(Ae.value)||(Y=Ye<Ae.value)}else{const Ye=a.valueAsDate||new Date(h),Le=V=>new Date(new Date().toDateString()+" "+V),A=a.type=="time",W=a.type=="week";ct(pe.value)&&h&&(q=A?Le(h)>Le(pe.value):W?h>pe.value:Ye>new Date(pe.value)),ct(Ae.value)&&h&&(Y=A?Le(h)<Le(Ae.value):W?h<Ae.value:Ye<new Date(Ae.value))}if((q||Y)&&(We(!!q,pe.message,Ae.message,Yt.max,Yt.min),!n))return b(T[_].message),T}if((u||c)&&!H&&(ct(h)||i&&Array.isArray(h))){const q=vn(u),Y=vn(c),pe=!tt(q.value)&&h.length>+q.value,Ae=!tt(Y.value)&&h.length<+Y.value;if((pe||Ae)&&(We(pe,q.message,Y.message),!n))return b(T[_].message),T}if(m&&!H&&ct(h)){const{value:q,message:Y}=vn(m);if($a(q)&&!h.match(q)&&(T[_]={type:Yt.pattern,message:Y,ref:a,...z(Yt.pattern,Y)},!n))return b(Y),T}if(v){if(Ot(v)){const q=await v(h,r),Y=Nh(q,p);if(Y&&(T[_]={...Y,...z(Yt.validate,Y.message)},!n))return b(Y.message),T}else if(Pe(v)){let q={};for(const Y in v){if(!Qe(q)&&!n)break;const pe=Nh(await v[Y](h,r),p,Y);pe&&(q={...pe,...z(Y,pe.message)},b(pe.message),n&&(T[_]=q))}if(!Qe(q)&&(T[_]={ref:p,...q},!n))return T}}return b(!0),T};const Zk={mode:Rt.onSubmit,reValidateMode:Rt.onChange,shouldFocusError:!0};function eS(e={}){let t={...Zk,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ot(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Pe(t.defaultValues)||Pe(t.values)?Ce(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ce(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...c};let f={...d};const m={array:xh(),state:xh()},v=t.criteriaMode===Rt.all,_=w=>k=>{clearTimeout(u),u=setTimeout(w,k)},x=async w=>{if(!a.keepIsValid&&!t.disabled&&(d.isValid||f.isValid||w)){let k;t.resolver?(k=Qe((await j()).errors),g()):k=await z(n,!0),k!==r.isValid&&m.state.next({isValid:k})}},g=(w,k)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((w||Array.from(o.mount)).forEach(E=>{E&&(k?oe(r.validatingFields,E,k):Se(r.validatingFields,E))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Qe(r.validatingFields)}))},h=(w,k=[],E,I,N=!0,R=!0)=>{if(I&&E&&!t.disabled){if(a.action=!0,R&&Array.isArray($(n,w))){const M=E($(n,w),I.argA,I.argB);N&&oe(n,w,M)}if(R&&Array.isArray($(r.errors,w))){const M=E($(r.errors,w),I.argA,I.argB);N&&oe(r.errors,w,M),Jk(r.errors,w)}if((d.touchedFields||f.touchedFields)&&R&&Array.isArray($(r.touchedFields,w))){const M=E($(r.touchedFields,w),I.argA,I.argB);N&&oe(r.touchedFields,w,M)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=xn(s,i)),m.state.next({name:w,isDirty:q(w,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else oe(i,w,k)},p=(w,k)=>{oe(r.errors,w,k),m.state.next({errors:r.errors})},b=w=>{r.errors=w,m.state.next({errors:r.errors,isValid:!1})},T=(w,k,E,I)=>{const N=$(n,w);if(N){const R=$(i,w,ue(E)?$(s,w):E);ue(R)||I&&I.defaultChecked||k?oe(i,w,k?R:Th(N._f)):Ae(w,R),a.mount&&!a.action&&x()}},P=(w,k,E,I,N)=>{let R=!1,M=!1;const J={name:w};if(!t.disabled){if(!E||I){(d.isDirty||f.isDirty)&&(M=r.isDirty,r.isDirty=J.isDirty=q(),R=M!==J.isDirty);const X=vr($(s,w),k);M=!!$(r.dirtyFields,w),X?Se(r.dirtyFields,w):oe(r.dirtyFields,w,!0),J.dirtyFields=r.dirtyFields,R=R||(d.dirtyFields||f.dirtyFields)&&M!==!X}if(E){const X=$(r.touchedFields,w);X||(oe(r.touchedFields,w,E),J.touchedFields=r.touchedFields,R=R||(d.touchedFields||f.touchedFields)&&X!==E)}R&&N&&m.state.next(J)}return R?J:{}},O=(w,k,E,I)=>{const N=$(r.errors,w),R=(d.isValid||f.isValid)&&Ut(k)&&r.isValid!==k;if(t.delayError&&E?(l=_(()=>p(w,E)),l(t.delayError)):(clearTimeout(u),l=null,E?oe(r.errors,w,E):Se(r.errors,w)),(E?!vr(N,E):N)||!Qe(I)||R){const M={...I,...R&&Ut(k)?{isValid:k}:{},errors:r.errors,name:w};r={...r,...M},m.state.next(M)}},j=async w=>(g(w,!0),await t.resolver(i,t.context,qk(w||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),H=async w=>{const{errors:k}=await j(w);if(g(w),w)for(const E of w){const I=$(k,E);I?oe(r.errors,E,I):Se(r.errors,E)}else r.errors=k;return k},z=async(w,k,E={valid:!0})=>{for(const I in w){const N=w[I];if(N){const{_f:R,...M}=N;if(R){const J=o.array.has(R.name),X=N._f&&Hk(N._f);X&&d.validatingFields&&g([R.name],!0);const Ge=await jh(N,o.disabled,i,v,t.shouldUseNativeValidation&&!k,J);if(X&&d.validatingFields&&g([R.name]),Ge[R.name]&&(E.valid=!1,k||e.shouldUseNativeValidation))break;!k&&($(Ge,R.name)?J?Xk(r.errors,Ge,R.name):oe(r.errors,R.name,Ge[R.name]):Se(r.errors,R.name))}!Qe(M)&&await z(M,k,E)}}return E.valid},We=()=>{for(const w of o.unMount){const k=$(n,w);k&&(k._f.refs?k._f.refs.every(E=>!Go(E)):!Go(k._f.ref))&&lo(w)}o.unMount=new Set},q=(w,k)=>!t.disabled&&(w&&k&&oe(i,w,k),!vr(ae(),s)),Y=(w,k,E)=>Uk(w,o,{...a.mount?i:ue(k)?s:ct(w)?{[w]:k}:k},E,k),pe=w=>hc($(a.mount?i:s,w,t.shouldUnregister?$(s,w,[]):[])),Ae=(w,k,E={})=>{const I=$(n,w);let N=k;if(I){const R=I._f;R&&(!R.disabled&&oe(i,w,Wm(k,R)),N=La(R.ref)&&tt(k)?"":k,Fm(R.ref)?[...R.ref.options].forEach(M=>M.selected=N.includes(M.value)):R.refs?yi(R.ref)?R.refs.forEach(M=>{(!M.defaultChecked||!M.disabled)&&(Array.isArray(N)?M.checked=!!N.find(J=>J===M.value):M.checked=N===M.value||!!N)}):R.refs.forEach(M=>M.checked=M.value===N):pc(R.ref)?R.ref.value="":(R.ref.value=N,R.ref.type||m.state.next({name:w,values:Ce(i)})))}(E.shouldDirty||E.shouldTouch)&&P(w,N,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&V(w)},Ye=(w,k,E)=>{for(const I in k){if(!k.hasOwnProperty(I))return;const N=k[I],R=w+"."+I,M=$(n,R);(o.array.has(w)||Pe(N)||M&&!M._f)&&!Jr(N)?Ye(R,N,E):Ae(R,N,E)}},Le=(w,k,E={})=>{const I=$(n,w),N=o.array.has(w),R=Ce(k);oe(i,w,R),N?(m.array.next({name:w,values:Ce(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&E.shouldDirty&&m.state.next({name:w,dirtyFields:xn(s,i),isDirty:q(w,R)})):I&&!I._f&&!tt(R)?Ye(w,R,E):Ae(w,R,E),Oh(w,o)?m.state.next({...r,name:w,values:Ce(i)}):m.state.next({name:a.mount?w:void 0,values:Ce(i)})},A=async w=>{a.mount=!0;const k=w.target;let E=k.name,I=!0;const N=$(n,E),R=X=>{I=Number.isNaN(X)||Jr(X)&&isNaN(X.getTime())||vr(X,$(i,E,X))},M=Ph(t.mode),J=Ph(t.reValidateMode);if(N){let X,Ge;const Ur=k.type?Th(N._f):Nk(w),ur=w.type===bh.BLUR||w.type===bh.FOCUS_OUT,Gm=!Kk(N._f)&&!t.resolver&&!$(r.errors,E)&&!N._f.deps||Qk(ur,$(r.touchedFields,E),r.isSubmitted,J,M),ho=Oh(E,o,ur);oe(i,E,Ur),ur?(!k||!k.readOnly)&&(N._f.onBlur&&N._f.onBlur(w),l&&l(0)):N._f.onChange&&N._f.onChange(w);const fo=P(E,Ur,ur),Qm=!Qe(fo)||ho;if(!ur&&m.state.next({name:E,type:w.type,values:Ce(i)}),Gm)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ur&&x():ur||x()),Qm&&m.state.next({name:E,...ho?{}:fo});if(!ur&&ho&&m.state.next({...r}),t.resolver){const{errors:bc}=await j([E]);if(g([E]),R(Ur),I){const Jm=Rh(r.errors,n,E),xc=Rh(bc,n,Jm.name||E);X=xc.error,E=xc.name,Ge=Qe(bc)}}else g([E],!0),X=(await jh(N,o.disabled,i,v,t.shouldUseNativeValidation))[E],g([E]),R(Ur),I&&(X?Ge=!1:(d.isValid||f.isValid)&&(Ge=await z(n,!0)));I&&(N._f.deps&&(!Array.isArray(N._f.deps)||N._f.deps.length>0)&&V(N._f.deps),O(E,Ge,X,fo))}},W=(w,k)=>{if($(r.errors,k)&&w.focus)return w.focus(),1},V=async(w,k={})=>{let E,I;const N=$s(w);if(t.resolver){const R=await H(ue(w)?w:N);E=Qe(R),I=w?!N.some(M=>$(R,M)):E}else w?(I=(await Promise.all(N.map(async R=>{const M=$(n,R);return await z(M&&M._f?{[R]:M}:M)}))).every(Boolean),!(!I&&!r.isValid)&&x()):I=E=await z(n);return m.state.next({...!ct(w)||(d.isValid||f.isValid)&&E!==r.isValid?{}:{name:w},...t.resolver||!w?{isValid:E}:{},errors:r.errors}),k.shouldFocus&&!I&&Us(n,W,w?N:o.mount),I},ae=(w,k)=>{let E={...a.mount?i:s};return k&&(E=Mm(k.dirtyFields?r.dirtyFields:r.touchedFields,E)),ue(w)?E:ct(w)?$(E,w):w.map(I=>$(E,I))},we=(w,k)=>({invalid:!!$((k||r).errors,w),isDirty:!!$((k||r).dirtyFields,w),error:$((k||r).errors,w),isValidating:!!$(r.validatingFields,w),isTouched:!!$((k||r).touchedFields,w)}),ln=w=>{const k=w?$s(w):void 0;k==null||k.forEach(E=>Se(r.errors,E)),k?k.forEach(E=>{m.state.next({name:E,errors:r.errors})}):m.state.next({errors:{}})},It=(w,k,E)=>{const I=($(n,w,{_f:{}})._f||{}).ref,N=$(r.errors,w)||{},{ref:R,message:M,type:J,...X}=N;oe(r.errors,w,{...X,...k,ref:I}),m.state.next({name:w,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&I&&I.focus&&I.focus()},os=(w,k)=>Ot(w)?m.state.subscribe({next:E=>"values"in E&&w(Y(void 0,k),E)}):Y(w,k,!0),Dt=w=>m.state.subscribe({next:k=>{Gk(w.name,k.name,w.exact)&&Yk(k,w.formState||d,Ym,w.reRenderRoot)&&w.callback({values:{...i},...r,...k,defaultValues:s})}}).unsubscribe,un=w=>(a.mount=!0,f={...f,...w.formState},Dt({...w,formState:{...c,...w.formState}})),lo=(w,k={})=>{for(const E of w?$s(w):o.mount)o.mount.delete(E),o.array.delete(E),k.keepValue||(Se(n,E),Se(i,E)),!k.keepError&&Se(r.errors,E),!k.keepDirty&&Se(r.dirtyFields,E),!k.keepTouched&&Se(r.touchedFields,E),!k.keepIsValidating&&Se(r.validatingFields,E),!t.shouldUnregister&&!k.keepDefaultValue&&Se(s,E);m.state.next({values:Ce(i)}),m.state.next({...r,...k.keepDirty?{isDirty:q()}:{}}),!k.keepIsValid&&x()},gc=({disabled:w,name:k})=>{if(Ut(w)&&a.mount||w||o.disabled.has(k)){const N=o.disabled.has(k)!==!!w;w?o.disabled.add(k):o.disabled.delete(k),N&&a.mount&&!a.action&&x()}},uo=(w,k={})=>{let E=$(n,w);const I=Ut(k.disabled)||Ut(t.disabled);return oe(n,w,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:w}},name:w,mount:!0,...k}}),o.mount.add(w),E?gc({disabled:Ut(k.disabled)?k.disabled:t.disabled,name:w}):T(w,!0,k.value),{...I?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:_s(k.min),max:_s(k.max),minLength:_s(k.minLength),maxLength:_s(k.maxLength),pattern:_s(k.pattern)}:{},name:w,onChange:A,onBlur:A,ref:N=>{if(N){uo(w,k),E=$(n,w);const R=ue(N.value)&&N.querySelectorAll&&N.querySelectorAll("input,select,textarea")[0]||N,M=Bk(R),J=E._f.refs||[];if(M?J.find(X=>X===R):R===E._f.ref)return;oe(n,w,{_f:{...E._f,...M?{refs:[...J.filter(Go),R,...Array.isArray($(s,w))?[{}]:[]],ref:{type:R.type,name:w}}:{ref:R}}}),T(w,!1,void 0,R)}else E=$(n,w,{}),E._f&&(E._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(Ak(o.array,w)&&a.action)&&o.unMount.add(w)}}},co=()=>t.shouldFocusError&&Us(n,W,o.mount),qm=w=>{Ut(w)&&(m.state.next({disabled:w}),Us(n,(k,E)=>{const I=$(n,E);I&&(k.disabled=I._f.disabled||w,Array.isArray(I._f.refs)&&I._f.refs.forEach(N=>{N.disabled=I._f.disabled||w}))},0,!1))},yc=(w,k)=>async E=>{let I;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let N=Ce(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:R,values:M}=await j();g(),r.errors=R,N=Ce(M)}else await z(n);if(o.disabled.size)for(const R of o.disabled)Se(N,R);if(Se(r.errors,"root"),Qe(r.errors)){m.state.next({errors:{}});try{await w(N,E)}catch(R){I=R}}else k&&await k({...r.errors},E),co(),setTimeout(co);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qe(r.errors)&&!I,submitCount:r.submitCount+1,errors:r.errors}),I)throw I},Hm=(w,k={})=>{$(n,w)&&(ue(k.defaultValue)?Le(w,Ce($(s,w))):(Le(w,k.defaultValue),oe(s,w,Ce(k.defaultValue))),k.keepTouched||Se(r.touchedFields,w),k.keepDirty||(Se(r.dirtyFields,w),r.isDirty=k.defaultValue?q(w,Ce($(s,w))):q()),k.keepError||(Se(r.errors,w),d.isValid&&x()),m.state.next({...r}))},vc=(w,k={})=>{const E=w?Ce(w):s,I=Ce(E),N=Qe(w),R=N?s:I;if(k.keepDefaultValues||(s=E),!k.keepValues){if(k.keepDirtyValues){const M=new Set([...o.mount,...Object.keys(xn(s,i))]);for(const J of Array.from(M)){const X=$(r.dirtyFields,J),Ge=$(i,J),Ur=$(R,J);X&&!ue(Ge)?oe(R,J,Ge):!X&&!ue(Ur)&&Le(J,Ur)}}else{if(dc&&ue(w))for(const M of o.mount){const J=$(n,M);if(J&&J._f){const X=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(La(X)){const Ge=X.closest("form");if(Ge){Ge.reset();break}}}}if(k.keepFieldsRef)for(const M of o.mount)Le(M,$(R,M));else n={}}i=t.shouldUnregister?k.keepDefaultValues?Ce(s):{}:Ce(R),m.array.next({values:{...R}}),m.state.next({values:{...R}})}o={mount:k.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues||!t.shouldUnregister&&!Qe(R),a.watch=!!t.shouldUnregister,a.keepIsValid=!!k.keepIsValid,a.action=!1,k.keepErrors||(r.errors={}),m.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:N?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!vr(w,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:N?{}:k.keepDirtyValues?k.keepDefaultValues&&i?xn(s,i):r.dirtyFields:k.keepDefaultValues&&w?xn(s,w):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},wc=(w,k)=>vc(Ot(w)?w(i):w,{...t.resetOptions,...k}),Km=(w,k={})=>{const E=$(n,w),I=E&&E._f;if(I){const N=I.refs?I.refs[0]:I.ref;N.focus&&setTimeout(()=>{N.focus(),k.shouldSelect&&Ot(N.select)&&N.select()})}},Ym=w=>{r={...r,...w}},_c={control:{register:uo,unregister:lo,getFieldState:we,handleSubmit:yc,setError:It,_subscribe:Dt,_runSchema:j,_updateIsValidating:g,_focusError:co,_getWatch:Y,_getDirty:q,_setValid:x,_setFieldArray:h,_setDisabledField:gc,_setErrors:b,_getFieldArray:pe,_reset:vc,_resetDefaultValues:()=>Ot(t.defaultValues)&&t.defaultValues().then(w=>{wc(w,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:We,_disableForm:qm,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(w){a=w},get _defaultValues(){return s},get _names(){return o},set _names(w){o=w},get _formState(){return r},get _options(){return t},set _options(w){t={...t,...w}}},subscribe:un,trigger:V,register:uo,handleSubmit:yc,watch:os,setValue:Le,getValues:ae,reset:wc,resetField:Hm,clearErrors:ln,unregister:lo,setError:It,setFocus:Km,getFieldState:we};return{..._c,formControl:_c}}function tS(e={}){const t=Fe.useRef(void 0),r=Fe.useRef(void 0),[n,s]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Ot(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ot(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Ot(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=eS(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,$k(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),Fe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Fe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Fe.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Fe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Fe.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Fe.useEffect(()=>{var a;e.values&&!vr(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Fe.useMemo(()=>Lk(n,i),[i,n]),t.current}function rS({clientInfo:e,setClientInfo:t,service:r,date:n,time:s,onConfirm:i,onBack:a}){const{register:o,handleSubmit:l,formState:{errors:u}}=tS({defaultValues:e}),c=f=>{i(f)},d=n?Nr(new Date(n),"dd 'de' MMMM 'de' yyyy",{locale:Da}):"";return y.jsxs("div",{children:[y.jsx("button",{onClick:a,className:"text-blue-400 mb-4 hover:text-blue-300 transition",children:" Voltar"}),y.jsx("h2",{className:"text-lg font-semibold mb-4 text-white",children:"Confirme seus dados"}),y.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg border border-gray-700 mb-4",children:[y.jsxs("p",{className:"text-gray-300",children:[y.jsx("span",{className:"font-medium text-white",children:"Servio:"})," ",r.name]}),y.jsxs("p",{className:"text-gray-300",children:[y.jsx("span",{className:"font-medium text-white",children:"Data:"})," ",d]}),y.jsxs("p",{className:"text-gray-300",children:[y.jsx("span",{className:"font-medium text-white",children:"Horrio:"})," ",s]})]}),y.jsxs("form",{onSubmit:l(c),children:[y.jsxs("div",{className:"mb-3",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Nome completo *"}),y.jsx("input",{...o("name",{required:"Nome  obrigatrio"}),className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),u.name&&y.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.name.message})]}),y.jsxs("div",{className:"mb-3",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"E-mail"}),y.jsx("input",{...o("email"),type:"email",className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"WhatsApp *"}),y.jsx("input",{...o("phone",{required:"Telefone  obrigatrio"}),className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999"}),u.phone&&y.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.phone.message})]}),y.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-semibold hover:scale-105 transition",children:"Confirmar Agendamento"})]})]})}function nS({title:e,titleId:t,...r},n){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?S.createElement("title",{id:t},e):null,S.createElement("path",{fillRule:"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 0 1 .75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 0 1 9.75 22.5a.75.75 0 0 1-.75-.75v-4.131A15.838 15.838 0 0 1 6.382 15H2.25a.75.75 0 0 1-.75-.75 6.75 6.75 0 0 1 7.815-6.666ZM15 6.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"}),S.createElement("path",{d:"M5.26 17.242a.75.75 0 1 0-.897-1.203 5.243 5.243 0 0 0-2.05 5.022.75.75 0 0 0 .625.627 5.243 5.243 0 0 0 5.022-2.051.75.75 0 1 0-1.202-.897 3.744 3.744 0 0 1-3.008 1.51c0-1.23.592-2.323 1.51-3.008Z"}))}const sS=S.forwardRef(nS);function iS({title:e,titleId:t,...r},n){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?S.createElement("title",{id:t},e):null,S.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const aS=S.forwardRef(iS);function oS(){const{slug:e}=i0(),[t,r]=S.useState(null),[n,s]=S.useState([]),[i,a]=S.useState(null),[o,l]=S.useState(null),[u,c]=S.useState(null),[d,f]=S.useState({name:"",email:"",phone:""}),[m,v]=S.useState(1);S.useEffect(()=>{_()},[e]);async function _(){const{data:h,error:p}=await ne.from("profiles").select("*").eq("unique_slug",e).maybeSingle();!p&&h&&(r(h),x(h.id))}async function x(h){const{data:p}=await ne.from("services").select("*").eq("user_id",h);s(p||[])}async function g(h){const{error:p}=await ne.from("appointments").insert([{user_id:t.id,service_id:i.id,client_name:h.name,client_email:h.email,client_phone:h.phone,date:o,time:u}]);p?alert("Erro: "+p.message):v(4)}return t?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white py-8 px-4",children:y.jsxs("div",{className:"max-w-md mx-auto bg-white/5 backdrop-blur-lg rounded-3xl border border-white/10 shadow-2xl p-6",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y.jsx(aS,{className:"w-6 h-6 text-yellow-400"}),y.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:t.store_name})]}),y.jsx("p",{className:"text-gray-300 mb-6",children:"Agende seu horrio de forma rpida e prtica."}),m===1&&y.jsx(Ck,{services:n,onSelect:h=>{a(h),v(2)}}),m===2&&y.jsx(Rk,{professional:t,service:i,onSelectDateTime:(h,p)=>{l(h),c(p),v(3)},onBack:()=>v(1)}),m===3&&y.jsx(rS,{clientInfo:d,setClientInfo:f,service:i,date:o,time:u,onConfirm:g,onBack:()=>v(2)}),m===4&&y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold",children:"Agendamento confirmado!"}),y.jsx("p",{className:"text-gray-300 mt-2",children:"Voc receber uma confirmao no WhatsApp."}),y.jsx("button",{onClick:()=>window.location.href=`/${e}`,className:"mt-4 text-blue-400 underline",children:"Fazer novo agendamento"})]})]})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white/5 backdrop-blur-lg p-6 rounded-2xl border border-white/10 text-center text-white",children:[y.jsx("h1",{className:"text-xl font-bold text-red-400",children:"Profissional no encontrado"}),y.jsx("p",{className:"text-gray-300 mt-2",children:"O link que voc acessou  invlido."})]})})}function lS({session:e,children:t}){return e?t:y.jsx(_0,{to:"/login",replace:!0})}function uS({session:e}){const t=ss(),r=async()=>{await ne.auth.signOut(),t("/")};return y.jsx("nav",{className:"bg-gray-900/80 backdrop-blur-md border-b border-white/10 sticky top-0 z-50",children:y.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[y.jsxs(qt,{to:"/",className:"flex items-center space-x-2 text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:[y.jsx(sS,{className:"w-8 h-8 text-blue-400"}),y.jsx("span",{children:"AgendaPro"})]}),y.jsx("div",{className:"space-x-4",children:e?y.jsxs(y.Fragment,{children:[y.jsx(qt,{to:"/dashboard",className:"hover:text-blue-400 transition",children:"Dashboard"}),y.jsx("button",{onClick:r,className:"hover:text-blue-400 transition",children:"Sair"})]}):y.jsxs(y.Fragment,{children:[y.jsx(qt,{to:"/login",className:"hover:text-blue-400 transition",children:"Login"}),y.jsx(qt,{to:"/signup",className:"bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-2 rounded-full text-sm font-semibold hover:scale-105 transition",children:"Cadastre-se"})]})})]})})}function cS(){const[e,t]=S.useState(null);return S.useEffect(()=>{ne.auth.getSession().then(({data:{session:n}})=>{t(n)});const{data:{subscription:r}}=ne.auth.onAuthStateChange((n,s)=>{t(s)});return()=>r.unsubscribe()},[]),y.jsxs(C0,{children:[y.jsx(uS,{session:e}),y.jsxs(tm,{children:[y.jsx(Ft,{path:"/",element:y.jsx(Nb,{})}),y.jsx(Ft,{path:"/login",element:y.jsx(jb,{})}),y.jsx(Ft,{path:"/signup",element:y.jsx(Ab,{})}),y.jsx(Ft,{path:"/:slug",element:y.jsx(oS,{})}),y.jsx(Ft,{path:"/dashboard/*",element:y.jsx(lS,{session:e,children:y.jsx(Tk,{})})})]})]})}Qo.createRoot(document.getElementById("root")).render(y.jsx(Fe.StrictMode,{children:y.jsx(cS,{})}));
